{"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\tests\\auth.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\tests\\auth.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":60}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":51}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":52}},"3":{"start":{"line":9,"column":39},"end":{"line":9,"column":95}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":26}},"6":{"start":{"line":15,"column":0},"end":{"line":31,"column":3}},"7":{"start":{"line":16,"column":2},"end":{"line":30,"column":5}},"8":{"start":{"line":17,"column":15},"end":{"line":21,"column":5}},"9":{"start":{"line":23,"column":4},"end":{"line":29,"column":7}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":34}},"11":{"start":{"line":25,"column":6},"end":{"line":25,"column":37}},"12":{"start":{"line":26,"column":6},"end":{"line":26,"column":45}},"13":{"start":{"line":27,"column":6},"end":{"line":27,"column":48}},"14":{"start":{"line":28,"column":6},"end":{"line":28,"column":13}},"15":{"start":{"line":32,"column":0},"end":{"line":119,"column":3}},"16":{"start":{"line":33,"column":16},"end":{"line":37,"column":3}},"17":{"start":{"line":38,"column":2},"end":{"line":42,"column":5}},"18":{"start":{"line":39,"column":4},"end":{"line":41,"column":7}},"19":{"start":{"line":40,"column":6},"end":{"line":40,"column":13}},"20":{"start":{"line":43,"column":2},"end":{"line":55,"column":5}},"21":{"start":{"line":44,"column":15},"end":{"line":47,"column":5}},"22":{"start":{"line":49,"column":4},"end":{"line":54,"column":7}},"23":{"start":{"line":50,"column":6},"end":{"line":50,"column":34}},"24":{"start":{"line":51,"column":6},"end":{"line":51,"column":37}},"25":{"start":{"line":52,"column":6},"end":{"line":52,"column":45}},"26":{"start":{"line":53,"column":6},"end":{"line":53,"column":13}},"27":{"start":{"line":56,"column":2},"end":{"line":68,"column":5}},"28":{"start":{"line":57,"column":15},"end":{"line":60,"column":5}},"29":{"start":{"line":62,"column":4},"end":{"line":67,"column":7}},"30":{"start":{"line":63,"column":6},"end":{"line":63,"column":34}},"31":{"start":{"line":64,"column":6},"end":{"line":64,"column":37}},"32":{"start":{"line":65,"column":6},"end":{"line":65,"column":98}},"33":{"start":{"line":66,"column":6},"end":{"line":66,"column":13}},"34":{"start":{"line":69,"column":2},"end":{"line":81,"column":5}},"35":{"start":{"line":70,"column":15},"end":{"line":73,"column":5}},"36":{"start":{"line":75,"column":4},"end":{"line":80,"column":7}},"37":{"start":{"line":76,"column":6},"end":{"line":76,"column":34}},"38":{"start":{"line":77,"column":6},"end":{"line":77,"column":37}},"39":{"start":{"line":78,"column":6},"end":{"line":78,"column":72}},"40":{"start":{"line":79,"column":6},"end":{"line":79,"column":13}},"41":{"start":{"line":82,"column":2},"end":{"line":94,"column":5}},"42":{"start":{"line":83,"column":15},"end":{"line":86,"column":5}},"43":{"start":{"line":88,"column":4},"end":{"line":93,"column":7}},"44":{"start":{"line":89,"column":6},"end":{"line":89,"column":34}},"45":{"start":{"line":90,"column":6},"end":{"line":90,"column":37}},"46":{"start":{"line":91,"column":6},"end":{"line":91,"column":92}},"47":{"start":{"line":92,"column":6},"end":{"line":92,"column":13}},"48":{"start":{"line":95,"column":2},"end":{"line":107,"column":5}},"49":{"start":{"line":96,"column":15},"end":{"line":99,"column":5}},"50":{"start":{"line":101,"column":4},"end":{"line":106,"column":7}},"51":{"start":{"line":102,"column":6},"end":{"line":102,"column":34}},"52":{"start":{"line":103,"column":6},"end":{"line":103,"column":37}},"53":{"start":{"line":104,"column":6},"end":{"line":104,"column":72}},"54":{"start":{"line":105,"column":6},"end":{"line":105,"column":13}},"55":{"start":{"line":108,"column":2},"end":{"line":118,"column":5}},"56":{"start":{"line":109,"column":15},"end":{"line":112,"column":5}},"57":{"start":{"line":114,"column":4},"end":{"line":117,"column":7}},"58":{"start":{"line":115,"column":6},"end":{"line":115,"column":34}},"59":{"start":{"line":116,"column":6},"end":{"line":116,"column":13}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":97}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":32},"end":{"line":15,"column":33}},"loc":{"start":{"line":15,"column":44},"end":{"line":31,"column":1}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":43},"end":{"line":16,"column":44}},"loc":{"start":{"line":16,"column":59},"end":{"line":30,"column":3}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":89},"end":{"line":23,"column":90}},"loc":{"start":{"line":23,"column":109},"end":{"line":29,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":32},"end":{"line":32,"column":33}},"loc":{"start":{"line":32,"column":44},"end":{"line":119,"column":1}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":38,"column":9},"end":{"line":38,"column":10}},"loc":{"start":{"line":38,"column":25},"end":{"line":42,"column":3}},"line":38},"6":{"name":"(anonymous_6)","decl":{"start":{"line":39,"column":92},"end":{"line":39,"column":93}},"loc":{"start":{"line":39,"column":104},"end":{"line":41,"column":5}},"line":39},"7":{"name":"(anonymous_7)","decl":{"start":{"line":43,"column":53},"end":{"line":43,"column":54}},"loc":{"start":{"line":43,"column":69},"end":{"line":55,"column":3}},"line":43},"8":{"name":"(anonymous_8)","decl":{"start":{"line":49,"column":89},"end":{"line":49,"column":90}},"loc":{"start":{"line":49,"column":109},"end":{"line":54,"column":5}},"line":49},"9":{"name":"(anonymous_9)","decl":{"start":{"line":56,"column":44},"end":{"line":56,"column":45}},"loc":{"start":{"line":56,"column":60},"end":{"line":68,"column":3}},"line":56},"10":{"name":"(anonymous_10)","decl":{"start":{"line":62,"column":89},"end":{"line":62,"column":90}},"loc":{"start":{"line":62,"column":109},"end":{"line":67,"column":5}},"line":62},"11":{"name":"(anonymous_11)","decl":{"start":{"line":69,"column":40},"end":{"line":69,"column":41}},"loc":{"start":{"line":69,"column":56},"end":{"line":81,"column":3}},"line":69},"12":{"name":"(anonymous_12)","decl":{"start":{"line":75,"column":89},"end":{"line":75,"column":90}},"loc":{"start":{"line":75,"column":109},"end":{"line":80,"column":5}},"line":75},"13":{"name":"(anonymous_13)","decl":{"start":{"line":82,"column":63},"end":{"line":82,"column":64}},"loc":{"start":{"line":82,"column":79},"end":{"line":94,"column":3}},"line":82},"14":{"name":"(anonymous_14)","decl":{"start":{"line":88,"column":89},"end":{"line":88,"column":90}},"loc":{"start":{"line":88,"column":109},"end":{"line":93,"column":5}},"line":88},"15":{"name":"(anonymous_15)","decl":{"start":{"line":95,"column":40},"end":{"line":95,"column":41}},"loc":{"start":{"line":95,"column":56},"end":{"line":107,"column":3}},"line":95},"16":{"name":"(anonymous_16)","decl":{"start":{"line":101,"column":89},"end":{"line":101,"column":90}},"loc":{"start":{"line":101,"column":109},"end":{"line":106,"column":5}},"line":101},"17":{"name":"(anonymous_17)","decl":{"start":{"line":108,"column":39},"end":{"line":108,"column":40}},"loc":{"start":{"line":108,"column":55},"end":{"line":118,"column":3}},"line":108},"18":{"name":"(anonymous_18)","decl":{"start":{"line":114,"column":89},"end":{"line":114,"column":90}},"loc":{"start":{"line":114,"column":109},"end":{"line":117,"column":5}},"line":114}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":94}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":94}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":3,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1},"f":{"0":3,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"b":{"0":[1,2],"1":[3,3]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["chai","use","chaiHttp","should","describe","it","done","user","name","email","password","request","app","post","send","end","err","res","have","status","body","be","a","property","newUser","before","req","eql"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEAA,iBAAKC,GAAL,CAASC,oBAAT;;AACAF,iBAAKG,MAAL;;AAEAC,QAAQ,CAAC,qBAAD,EAAwB,YAAM;AAClCC,EAAAA,EAAE,CAAC,oCAAD,EAAuC,UAACC,IAAD,EAAU;AACjD,QAAMC,IAAI,GAAG;AACXC,MAAAA,IAAI,EAAE,MADK;AAEXC,MAAAA,KAAK,EAAE,eAFI;AAGXC,MAAAA,QAAQ,EAAE;AAHC,KAAb;;AAKAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjBA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBkB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,OAA9B;AACAN,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,UAA9B;AACAjB,MAAAA,IAAI;AACL,KATH;AAUD,GAhBC,CAAF;AAiBH,CAlBO,CAAR;AAoBAF,QAAQ,CAAC,qBAAD,EAAwB,YAAK;AACnC,MAAMoB,OAAO,GAAG;AACdhB,IAAAA,IAAI,EAAE,KADQ;AAEdC,IAAAA,KAAK,EAAE,eAFO;AAGdC,IAAAA,QAAQ,EAAE;AAHI,GAAhB;AAKAe,EAAAA,MAAM,CAAC,UAACnB,IAAD,EAAS;AACdN,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQU,OAFR,EAGGT,GAHH,CAGO,YAAK;AACRT,MAAAA,IAAI;AACL,KALH;AAMC,GAPG,CAAN;AASID,EAAAA,EAAE,CAAC,8CAAD,EAAiD,UAACC,IAAD,EAAS;AAC1D,QAAMC,IAAI,GAAG;AACXE,MAAAA,KAAK,EAAEe,OAAO,CAACf,KADJ;AAEXC,MAAAA,QAAQ,EAAEc,OAAO,CAACd;AAFP,KAAb;;AAIAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACW,GAAD,EAAKT,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBkB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,OAA9B;AACAjB,MAAAA,IAAI;AACL,KARH;AASD,GAdC,CAAF;AAgBAD,EAAAA,EAAE,CAAC,qCAAD,EAAwC,UAACC,IAAD,EAAS;AACjD,QAAMC,IAAI,GAAG;AACXE,MAAAA,KAAK,EAAE,eADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;;AAIAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACW,GAAD,EAAKT,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBkB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBI,CAArB,CAAuBC,QAAvB,CAAgC,OAAhC,EAAyCI,GAAzC,CAA6C,6CAA7C;AACArB,MAAAA,IAAI;AACL,KARH;AASD,GAdC,CAAF;AAgBAD,EAAAA,EAAE,CAAC,iCAAD,EAAoC,UAACC,IAAD,EAAS;AAC7C,QAAMC,IAAI,GAAG;AACXE,MAAAA,KAAK,EAAE,eADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;;AAIAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACW,GAAD,EAAKT,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBkB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,OAA9B,EAAuCI,GAAvC,CAA2C,qBAA3C;AACArB,MAAAA,IAAI;AACL,KARH;AASD,GAdC,CAAF;AAgBAD,EAAAA,EAAE,CAAC,wDAAD,EAA2D,UAACC,IAAD,EAAS;AACpE,QAAMC,IAAI,GAAG;AACXE,MAAAA,KAAK,EAAE,eADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;;AAIAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACW,GAAD,EAAKT,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBkB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,OAA9B,EAAuCI,GAAvC,CAA2C,yCAA3C;AACArB,MAAAA,IAAI;AACL,KARH;AASD,GAdC,CAAF;AAgBAD,EAAAA,EAAE,CAAC,iCAAD,EAAoC,UAACC,IAAD,EAAS;AAC7C,QAAMC,IAAI,GAAG;AACXE,MAAAA,KAAK,EAAE,aADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;;AAIAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACW,GAAD,EAAKT,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBkB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAL,MAAAA,GAAG,CAACG,IAAJ,CAASjB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,OAA9B,EAAuCI,GAAvC,CAA2C,qBAA3C;AACArB,MAAAA,IAAI;AACL,KARH;AASD,GAdC,CAAF;AAgBAD,EAAAA,EAAE,CAAC,gCAAD,EAAmC,UAACC,IAAD,EAAS;AAC5C,QAAMC,IAAI,GAAG;AACXE,MAAAA,KAAK,EAAE,cADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;;AAIAV,qBAAKW,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,UAACW,GAAD,EAAKT,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAb,MAAAA,IAAI;AACL,KANH;AAOD,GAZC,CAAF;AAaL,CA5GO,CAAR","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\tests\\","sourcesContent":["import chaiHttp from 'chai-http';\r\nimport chai from 'chai';\r\nimport app from '../app';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\ndescribe('/api/v1/auth/signup', () => {\r\n    it('should return a status code of 201', (done) => {\r\n      const user = {\r\n        name: 'alex',\r\n        email: 'alex@test.com',\r\n        password: 'alexpassword1',\r\n      };\r\n      chai.request(app)\r\n        .post('/api/v1/auth/signup')\r\n        .send(user)\r\n        .end((err, res) => {\r\n          res.should.have.status(201);\r\n          res.body.should.be.a('object');\r\n          res.body.should.have.property('email');\r\n          res.body.should.have.property('password');\r\n          done();\r\n        });\r\n    });  \r\n});\r\n\r\ndescribe('/api/v1/auth/signin', ()=> {\r\n  const newUser = {\r\n    name: 'jex',\r\n    email: 'jex@email.com',\r\n    password: 'jex123456'\r\n  }\r\n  before((done)=> {\r\n    chai.request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send(newUser)\r\n      .end(()=> {\r\n        done()\r\n      })\r\n    })\r\n\r\n      it('returns success when valid input is provided', (done)=> {\r\n        const user = {\r\n          email: newUser.email,\r\n          password: newUser.password\r\n        }\r\n        chai.request(app)\r\n          .post('/api/v1/auth/signin')\r\n          .send(user)\r\n          .end((req,res)=> {\r\n            res.should.have.status(200);\r\n            res.body.should.be.a('object');\r\n            res.body.should.have.property('token');\r\n            done()\r\n          });\r\n      })\r\n\r\n      it('fails when password is not provided', (done)=> {\r\n        const user = {\r\n          email: 'jex@email.com',\r\n          password: ''\r\n        }\r\n        chai.request(app)\r\n          .post('/api/v1/auth/signin')\r\n          .send(user)\r\n          .end((req,res)=> {\r\n            res.should.have.status(422);\r\n            res.body.should.be.a('object');\r\n            res.body.should.have.a.property('error').eql('password must contain at least 6 characters')\r\n            done()\r\n          })\r\n      })\r\n\r\n      it('fails on wrong user credentials', (done)=> {\r\n        const user = {\r\n          email: 'day@email.com',\r\n          password: 'kdjkj9'\r\n        }\r\n        chai.request(app)\r\n          .post('/api/v1/auth/signin')\r\n          .send(user)\r\n          .end((req,res)=> {\r\n            res.should.have.status(401);\r\n            res.body.should.be.a('object');\r\n            res.body.should.have.property('error').eql('user does not exist')\r\n            done()\r\n          })\r\n      })\r\n\r\n      it('fails when password does not contain a digit character', (done)=> {\r\n        const user = {\r\n          email: 'jex@email.com',\r\n          password: 'jexpassword'\r\n        }\r\n        chai.request(app)\r\n          .post('/api/v1/auth/signin')\r\n          .send(user)\r\n          .end((req,res)=> {\r\n            res.should.have.status(422);\r\n            res.body.should.be.a('object')\r\n            res.body.should.have.property('error').eql('password must contain a digit character')\r\n            done()\r\n          })\r\n      })\r\n\r\n      it('fails if the email is not valid', (done)=> {\r\n        const user = {\r\n          email: 'ex@email.co',\r\n          password: 'jex123456'\r\n        }\r\n        chai.request(app)\r\n          .post('/api/v1/auth/signin')\r\n          .send(user)\r\n          .end((req,res)=> {\r\n            res.should.have.status(401);\r\n            res.body.should.be.a('object')\r\n            res.body.should.have.property('error').eql('user does not exist')\r\n            done()\r\n          })\r\n      })\r\n\r\n      it('email must contain an @ symbol', (done)=> {\r\n        const user = {\r\n          email: 'jexemail.com',\r\n          password: 'jex123456'\r\n        }\r\n        chai.request(app)\r\n          .post('/api/v1/auth/signin')\r\n          .send(user)\r\n          .end((req,res)=> {\r\n            res.should.have.status(422);\r\n            done()\r\n          })\r\n      })\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1347396f5cf4242e77f6d52411ac0f194518e7ec","contentHash":"c7c439fceefa85c00769ec7047bb3f9bfbfc4dfe45b9024305f96100dcd079f7"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\app.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":51}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":39}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}},"8":{"start":{"line":20,"column":24},"end":{"line":20,"column":76}},"9":{"start":{"line":22,"column":12},"end":{"line":22,"column":61}},"10":{"start":{"line":24,"column":12},"end":{"line":24,"column":61}},"11":{"start":{"line":26,"column":15},"end":{"line":26,"column":67}},"12":{"start":{"line":28,"column":39},"end":{"line":28,"column":95}},"13":{"start":{"line":30,"column":10},"end":{"line":30,"column":36}},"14":{"start":{"line":31,"column":0},"end":{"line":31,"column":39}},"15":{"start":{"line":32,"column":0},"end":{"line":32,"column":36}},"16":{"start":{"line":33,"column":0},"end":{"line":33,"column":40}},"17":{"start":{"line":34,"column":0},"end":{"line":34,"column":33}},"18":{"start":{"line":35,"column":0},"end":{"line":35,"column":45}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":42}},"20":{"start":{"line":37,"column":0},"end":{"line":37,"column":37}},"21":{"start":{"line":38,"column":0},"end":{"line":38,"column":40}},"22":{"start":{"line":39,"column":0},"end":{"line":43,"column":3}},"23":{"start":{"line":40,"column":2},"end":{"line":42,"column":5}},"24":{"start":{"line":44,"column":11},"end":{"line":44,"column":35}},"25":{"start":{"line":45,"column":0},"end":{"line":47,"column":3}},"26":{"start":{"line":46,"column":2},"end":{"line":46,"column":49}},"27":{"start":{"line":48,"column":15},"end":{"line":48,"column":18}},"28":{"start":{"line":49,"column":0},"end":{"line":49,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":31}},"loc":{"start":{"line":28,"column":37},"end":{"line":28,"column":97}},"line":28},"1":{"name":"(anonymous_1)","decl":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}},"loc":{"start":{"line":39,"column":33},"end":{"line":43,"column":1}},"line":39},"2":{"name":"(anonymous_2)","decl":{"start":{"line":45,"column":17},"end":{"line":45,"column":18}},"loc":{"start":{"line":45,"column":29},"end":{"line":47,"column":1}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":46},"end":{"line":28,"column":94}},"type":"cond-expr","locations":[{"start":{"line":28,"column":70},"end":{"line":28,"column":73}},{"start":{"line":28,"column":76},"end":{"line":28,"column":94}}],"line":28},"1":{"loc":{"start":{"line":28,"column":46},"end":{"line":28,"column":67}},"type":"binary-expr","locations":[{"start":{"line":28,"column":46},"end":{"line":28,"column":49}},{"start":{"line":28,"column":53},"end":{"line":28,"column":67}}],"line":28},"2":{"loc":{"start":{"line":44,"column":11},"end":{"line":44,"column":35}},"type":"binary-expr","locations":[{"start":{"line":44,"column":11},"end":{"line":44,"column":27}},{"start":{"line":44,"column":31},"end":{"line":44,"column":35}}],"line":44}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":8,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":8,"1":0,"2":1},"b":{"0":[0,8],"1":[8,8],"2":[1,1]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["app","use","bodyParser","json","express","authRoute","userRoutes","productRoutes","get","req","res","status","message","PORT","process","env","listen","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,uBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,oBAAQD,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,wBAAO,KAAP,CAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,mCAAR;AAEAD,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBI,gBAAxB;AACAL,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBK,gBAAnB;AACAN,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBM,mBAAnB;AAEAP,GAAG,CAACQ,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAKC,GAAL;AAAA,SAAYA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAACS,IAAAA,OAAO,EAAE;AAAV,GAArB,CAAZ;AAAA,CAAb;AAEA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACAb,GAAG,CAACgB,MAAJ,CAAWH,IAAX,EAAiB,YAAK;AAClBI,EAAAA,OAAO,CAACC,GAAR,6BAAiCL,IAAjC;AACH,CAFD;eAIeb,G","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\","sourcesContent":["import express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport morgan from 'morgan';\r\nimport cors from 'cors';\r\nimport 'regenerator-runtime/runtime';\r\nimport 'core-js/stable';\r\nimport expressValidator from 'express-validator';\r\nimport authRoute from './routers/auth';\r\nimport userRoutes from './routers/user';\r\nimport productRoutes from './routers/product';\r\n\r\nconst app = express();\r\n\r\napp.use(bodyParser.json())\r\napp.use(express.json())\r\napp.use(morgan('dev'))\r\napp.use(cors())\r\napp.use(expressValidator())\r\n\r\napp.use('/api/v1/auth', authRoute);\r\napp.use('/api/v1', userRoutes);\r\napp.use('/api/v1', productRoutes);\r\n\r\napp.get('/', (req,res)=> res.status(200).json({message: 'app running....'}))\r\n\r\nconst PORT = process.env.PORT || 9000\r\napp.listen(PORT, ()=> {\r\n    console.log(`listening on port ${PORT}`)\r\n})\r\n\r\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ff3e152e3f6b3c752f5a93acc22c0ee78162e5e7","contentHash":"d100d941edefa7f1972c936c02e69881263bd7cb1b2b578876cf7fc124e3ff4a"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\auth.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\auth.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":66}},"2":{"start":{"line":7,"column":24},"end":{"line":7,"column":102}},"3":{"start":{"line":9,"column":24},"end":{"line":9,"column":102}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":95}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":41}},"6":{"start":{"line":15,"column":13},"end":{"line":15,"column":36}},"7":{"start":{"line":16,"column":13},"end":{"line":16,"column":36}},"8":{"start":{"line":17,"column":23},"end":{"line":17,"column":68}},"9":{"start":{"line":18,"column":23},"end":{"line":18,"column":68}},"10":{"start":{"line":19,"column":0},"end":{"line":19,"column":49}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":49}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":97}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":94}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":94}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":4,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":4},"b":{"0":[3,1],"1":[4,4]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["router","express","Router","signup","authController","signin","signupValidation","validateSignup","signInValidation","validateSignin","post","module","exports"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEA,IAAQC,MAAR,GAA2BC,gBAA3B,CAAQD,MAAR;AAAA,IAAgBE,MAAhB,GAA2BD,gBAA3B,CAAgBC,MAAhB;AACA,IAAQC,gBAAR,GAA6BC,4BAA7B,CAAQD,gBAAR;AACA,IAAQE,gBAAR,GAA6BC,4BAA7B,CAAQD,gBAAR;AAEAR,MAAM,CAACU,IAAP,CAAY,SAAZ,EAAuBJ,gBAAvB,EAAyCH,MAAzC;AACAH,MAAM,CAACU,IAAP,CAAY,SAAZ,EAAuBF,gBAAvB,EAAyCH,MAAzC;AAGAM,MAAM,CAACC,OAAP,GAAiBZ,MAAjB","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\","sourcesContent":["import express from 'express';\r\nimport authController from '../controllers/auth';\r\nimport validateSignup from '../middlewares/validations/signupValidation';\r\nimport validateSignin from '../middlewares/validations/signinValidation';\r\n\r\nconst router = express.Router();\r\n\r\nconst { signup, signin } = authController;\r\nconst { signupValidation } = validateSignup\r\nconst { signInValidation } = validateSignin;\r\n\r\nrouter.post('/signup', signupValidation, signup);\r\nrouter.post('/signin', signInValidation, signin);\r\n\r\n\r\nmodule.exports = router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"14757e8a5a551bbdd29be466472b8dae4acff1c9","contentHash":"371152e44a1f9bb7c09bdf05cf8ac86b4112e382d3a18b734d85c10ae6f10863"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\auth.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":63}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":60}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":54},"end":{"line":16,"column":73}},"7":{"start":{"line":16,"column":75},"end":{"line":16,"column":330}},"8":{"start":{"line":16,"column":125},"end":{"line":16,"column":161}},"9":{"start":{"line":16,"column":163},"end":{"line":16,"column":296}},"10":{"start":{"line":16,"column":185},"end":{"line":16,"column":294}},"11":{"start":{"line":16,"column":227},"end":{"line":16,"column":290}},"12":{"start":{"line":16,"column":297},"end":{"line":16,"column":328}},"13":{"start":{"line":16,"column":331},"end":{"line":16,"column":343}},"14":{"start":{"line":18,"column":33},"end":{"line":18,"column":517}},"15":{"start":{"line":18,"column":46},"end":{"line":18,"column":47}},"16":{"start":{"line":18,"column":91},"end":{"line":18,"column":131}},"17":{"start":{"line":18,"column":133},"end":{"line":18,"column":515}},"18":{"start":{"line":18,"column":146},"end":{"line":18,"column":247}},"19":{"start":{"line":18,"column":201},"end":{"line":18,"column":243}},"20":{"start":{"line":18,"column":255},"end":{"line":18,"column":515}},"21":{"start":{"line":18,"column":295},"end":{"line":18,"column":369}},"22":{"start":{"line":18,"column":379},"end":{"line":18,"column":513}},"23":{"start":{"line":18,"column":428},"end":{"line":18,"column":509}},"24":{"start":{"line":18,"column":518},"end":{"line":18,"column":532}},"25":{"start":{"line":20,"column":44},"end":{"line":20,"column":195}},"26":{"start":{"line":20,"column":62},"end":{"line":20,"column":166}},"27":{"start":{"line":20,"column":176},"end":{"line":20,"column":193}},"28":{"start":{"line":20,"column":196},"end":{"line":20,"column":207}},"29":{"start":{"line":22,"column":77},"end":{"line":22,"column":175}},"30":{"start":{"line":22,"column":94},"end":{"line":22,"column":107}},"31":{"start":{"line":22,"column":121},"end":{"line":22,"column":131}},"32":{"start":{"line":22,"column":151},"end":{"line":22,"column":165}},"33":{"start":{"line":22,"column":166},"end":{"line":22,"column":173}},"34":{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},"35":{"start":{"line":22,"column":193},"end":{"line":22,"column":208}},"36":{"start":{"line":22,"column":218},"end":{"line":22,"column":261}},"37":{"start":{"line":24,"column":33},"end":{"line":24,"column":387}},"38":{"start":{"line":24,"column":65},"end":{"line":24,"column":69}},"39":{"start":{"line":24,"column":78},"end":{"line":24,"column":87}},"40":{"start":{"line":24,"column":89},"end":{"line":24,"column":384}},"41":{"start":{"line":24,"column":147},"end":{"line":24,"column":167}},"42":{"start":{"line":24,"column":193},"end":{"line":24,"column":264}},"43":{"start":{"line":24,"column":290},"end":{"line":24,"column":360}},"44":{"start":{"line":24,"column":363},"end":{"line":24,"column":380}},"45":{"start":{"line":26,"column":10},"end":{"line":26,"column":33}},"46":{"start":{"line":28,"column":0},"end":{"line":28,"column":27}},"47":{"start":{"line":30,"column":20},"end":{"line":30,"column":24}},"48":{"start":{"line":31,"column":21},"end":{"line":133,"column":1}},"49":{"start":{"line":33,"column":18},"end":{"line":71,"column":7}},"50":{"start":{"line":35,"column":6},"end":{"line":70,"column":18}},"51":{"start":{"line":36,"column":8},"end":{"line":69,"column":9}},"52":{"start":{"line":37,"column":10},"end":{"line":68,"column":11}},"53":{"start":{"line":39,"column":14},"end":{"line":39,"column":32}},"54":{"start":{"line":40,"column":14},"end":{"line":40,"column":74}},"55":{"start":{"line":43,"column":14},"end":{"line":43,"column":43}},"56":{"start":{"line":45,"column":14},"end":{"line":48,"column":15}},"57":{"start":{"line":46,"column":16},"end":{"line":46,"column":34}},"58":{"start":{"line":47,"column":16},"end":{"line":47,"column":22}},"59":{"start":{"line":50,"column":14},"end":{"line":52,"column":18}},"60":{"start":{"line":55,"column":14},"end":{"line":55,"column":32}},"61":{"start":{"line":56,"column":14},"end":{"line":59,"column":18}},"62":{"start":{"line":62,"column":14},"end":{"line":62,"column":38}},"63":{"start":{"line":63,"column":14},"end":{"line":63,"column":78}},"64":{"start":{"line":67,"column":14},"end":{"line":67,"column":37}},"65":{"start":{"line":74,"column":6},"end":{"line":74,"column":44}},"66":{"start":{"line":77,"column":4},"end":{"line":77,"column":18}},"67":{"start":{"line":80,"column":18},"end":{"line":125,"column":7}},"68":{"start":{"line":83,"column":6},"end":{"line":124,"column":19}},"69":{"start":{"line":84,"column":8},"end":{"line":123,"column":9}},"70":{"start":{"line":85,"column":10},"end":{"line":122,"column":11}},"71":{"start":{"line":87,"column":14},"end":{"line":87,"column":91}},"72":{"start":{"line":88,"column":14},"end":{"line":88,"column":33}},"73":{"start":{"line":89,"column":14},"end":{"line":89,"column":65}},"74":{"start":{"line":92,"column":14},"end":{"line":92,"column":44}},"75":{"start":{"line":93,"column":14},"end":{"line":93,"column":110}},"76":{"start":{"line":95,"column":14},"end":{"line":98,"column":15}},"77":{"start":{"line":96,"column":16},"end":{"line":96,"column":35}},"78":{"start":{"line":97,"column":16},"end":{"line":97,"column":22}},"79":{"start":{"line":100,"column":14},"end":{"line":102,"column":18}},"80":{"start":{"line":105,"column":14},"end":{"line":105,"column":93}},"81":{"start":{"line":106,"column":14},"end":{"line":111,"column":17}},"82":{"start":{"line":112,"column":14},"end":{"line":117,"column":18}},"83":{"start":{"line":121,"column":14},"end":{"line":121,"column":38}},"84":{"start":{"line":128,"column":6},"end":{"line":128,"column":44}},"85":{"start":{"line":131,"column":4},"end":{"line":131,"column":18}},"86":{"start":{"line":134,"column":15},"end":{"line":134,"column":29}},"87":{"start":{"line":135,"column":0},"end":{"line":135,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":97}},"line":14},"1":{"name":"ownKeys","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":16}},"loc":{"start":{"line":16,"column":41},"end":{"line":16,"column":345}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":210},"end":{"line":16,"column":211}},"loc":{"start":{"line":16,"column":225},"end":{"line":16,"column":292}},"line":16},"3":{"name":"_objectSpread","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":22}},"loc":{"start":{"line":18,"column":31},"end":{"line":18,"column":534}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":184},"end":{"line":18,"column":185}},"loc":{"start":{"line":18,"column":199},"end":{"line":18,"column":245}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":411},"end":{"line":18,"column":412}},"loc":{"start":{"line":18,"column":426},"end":{"line":18,"column":511}},"line":18},"6":{"name":"_defineProperty","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":24}},"loc":{"start":{"line":20,"column":42},"end":{"line":20,"column":209}},"line":20},"7":{"name":"asyncGeneratorStep","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":27}},"loc":{"start":{"line":22,"column":75},"end":{"line":22,"column":265}},"line":22},"8":{"name":"_asyncToGenerator","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":26}},"loc":{"start":{"line":24,"column":31},"end":{"line":24,"column":389}},"line":24},"9":{"name":"(anonymous_9)","decl":{"start":{"line":24,"column":40},"end":{"line":24,"column":41}},"loc":{"start":{"line":24,"column":52},"end":{"line":24,"column":386}},"line":24},"10":{"name":"(anonymous_10)","decl":{"start":{"line":24,"column":108},"end":{"line":24,"column":109}},"loc":{"start":{"line":24,"column":135},"end":{"line":24,"column":382}},"line":24},"11":{"name":"_next","decl":{"start":{"line":24,"column":178},"end":{"line":24,"column":183}},"loc":{"start":{"line":24,"column":191},"end":{"line":24,"column":266}},"line":24},"12":{"name":"_throw","decl":{"start":{"line":24,"column":276},"end":{"line":24,"column":282}},"loc":{"start":{"line":24,"column":288},"end":{"line":24,"column":362}},"line":24},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":10},"end":{"line":32,"column":11}},"loc":{"start":{"line":32,"column":22},"end":{"line":78,"column":3}},"line":32},"14":{"name":"_callee","decl":{"start":{"line":33,"column":83},"end":{"line":33,"column":90}},"loc":{"start":{"line":33,"column":101},"end":{"line":71,"column":5}},"line":33},"15":{"name":"_callee$","decl":{"start":{"line":35,"column":46},"end":{"line":35,"column":54}},"loc":{"start":{"line":35,"column":65},"end":{"line":70,"column":7}},"line":35},"16":{"name":"signup","decl":{"start":{"line":73,"column":13},"end":{"line":73,"column":19}},"loc":{"start":{"line":73,"column":29},"end":{"line":75,"column":5}},"line":73},"17":{"name":"(anonymous_17)","decl":{"start":{"line":79,"column":10},"end":{"line":79,"column":11}},"loc":{"start":{"line":79,"column":22},"end":{"line":132,"column":3}},"line":79},"18":{"name":"_callee2","decl":{"start":{"line":80,"column":83},"end":{"line":80,"column":91}},"loc":{"start":{"line":80,"column":102},"end":{"line":125,"column":5}},"line":80},"19":{"name":"_callee2$","decl":{"start":{"line":83,"column":46},"end":{"line":83,"column":55}},"loc":{"start":{"line":83,"column":67},"end":{"line":124,"column":7}},"line":83},"20":{"name":"signin","decl":{"start":{"line":127,"column":13},"end":{"line":127,"column":19}},"loc":{"start":{"line":127,"column":30},"end":{"line":129,"column":5}},"line":127}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":94}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":94}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":16,"column":75},"end":{"line":16,"column":330}},"type":"if","locations":[{"start":{"line":16,"column":75},"end":{"line":16,"column":330}},{"start":{"line":16,"column":75},"end":{"line":16,"column":330}}],"line":16},"3":{"loc":{"start":{"line":16,"column":163},"end":{"line":16,"column":296}},"type":"if","locations":[{"start":{"line":16,"column":163},"end":{"line":16,"column":296}},{"start":{"line":16,"column":163},"end":{"line":16,"column":296}}],"line":16},"4":{"loc":{"start":{"line":18,"column":91},"end":{"line":18,"column":131}},"type":"cond-expr","locations":[{"start":{"line":18,"column":114},"end":{"line":18,"column":126}},{"start":{"line":18,"column":129},"end":{"line":18,"column":131}}],"line":18},"5":{"loc":{"start":{"line":18,"column":133},"end":{"line":18,"column":515}},"type":"if","locations":[{"start":{"line":18,"column":133},"end":{"line":18,"column":515}},{"start":{"line":18,"column":133},"end":{"line":18,"column":515}}],"line":18},"6":{"loc":{"start":{"line":18,"column":255},"end":{"line":18,"column":515}},"type":"if","locations":[{"start":{"line":18,"column":255},"end":{"line":18,"column":515}},{"start":{"line":18,"column":255},"end":{"line":18,"column":515}}],"line":18},"7":{"loc":{"start":{"line":20,"column":44},"end":{"line":20,"column":195}},"type":"if","locations":[{"start":{"line":20,"column":44},"end":{"line":20,"column":195}},{"start":{"line":20,"column":44},"end":{"line":20,"column":195}}],"line":20},"8":{"loc":{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},"type":"if","locations":[{"start":{"line":22,"column":176},"end":{"line":22,"column":263}},{"start":{"line":22,"column":176},"end":{"line":22,"column":263}}],"line":22},"9":{"loc":{"start":{"line":37,"column":10},"end":{"line":68,"column":11}},"type":"switch","locations":[{"start":{"line":38,"column":12},"end":{"line":40,"column":74}},{"start":{"line":42,"column":12},"end":{"line":52,"column":18}},{"start":{"line":54,"column":12},"end":{"line":59,"column":18}},{"start":{"line":61,"column":12},"end":{"line":63,"column":78}},{"start":{"line":65,"column":12},"end":{"line":65,"column":19}},{"start":{"line":66,"column":12},"end":{"line":67,"column":37}}],"line":37},"10":{"loc":{"start":{"line":45,"column":14},"end":{"line":48,"column":15}},"type":"if","locations":[{"start":{"line":45,"column":14},"end":{"line":48,"column":15}},{"start":{"line":45,"column":14},"end":{"line":48,"column":15}}],"line":45},"11":{"loc":{"start":{"line":85,"column":10},"end":{"line":122,"column":11}},"type":"switch","locations":[{"start":{"line":86,"column":12},"end":{"line":89,"column":65}},{"start":{"line":91,"column":12},"end":{"line":102,"column":18}},{"start":{"line":104,"column":12},"end":{"line":117,"column":18}},{"start":{"line":119,"column":12},"end":{"line":119,"column":20}},{"start":{"line":120,"column":12},"end":{"line":121,"column":38}}],"line":85},"12":{"loc":{"start":{"line":93,"column":28},"end":{"line":93,"column":109}},"type":"binary-expr","locations":[{"start":{"line":93,"column":28},"end":{"line":93,"column":40}},{"start":{"line":93,"column":44},"end":{"line":93,"column":109}}],"line":93},"13":{"loc":{"start":{"line":95,"column":14},"end":{"line":98,"column":15}},"type":"if","locations":[{"start":{"line":95,"column":14},"end":{"line":98,"column":15}},{"start":{"line":95,"column":14},"end":{"line":98,"column":15}}],"line":95}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":6,"7":6,"8":6,"9":6,"10":6,"11":0,"12":6,"13":6,"14":6,"15":6,"16":9,"17":9,"18":6,"19":9,"20":3,"21":3,"22":0,"23":0,"24":6,"25":9,"26":0,"27":9,"28":9,"29":17,"30":17,"31":17,"32":0,"33":0,"34":17,"35":7,"36":10,"37":2,"38":7,"39":7,"40":7,"41":7,"42":17,"43":0,"44":7,"45":1,"46":1,"47":1,"48":1,"49":1,"50":3,"51":12,"52":15,"53":3,"54":3,"55":3,"56":3,"57":3,"58":3,"59":0,"60":3,"61":3,"62":3,"63":3,"64":3,"65":3,"66":1,"67":1,"68":4,"69":12,"70":14,"71":4,"72":4,"73":4,"74":4,"75":4,"76":4,"77":2,"78":2,"79":2,"80":2,"81":2,"82":2,"83":4,"84":4,"85":1,"86":1,"87":1},"f":{"0":3,"1":6,"2":0,"3":6,"4":9,"5":0,"6":9,"7":17,"8":2,"9":7,"10":7,"11":17,"12":0,"13":1,"14":3,"15":12,"16":3,"17":1,"18":4,"19":12,"20":4},"b":{"0":[2,1],"1":[3,3],"2":[6,0],"3":[6,0],"4":[9,0],"5":[6,3],"6":[3,0],"7":[0,9],"8":[7,10],"9":[3,3,3,3,0,3],"10":[3,0],"11":[4,4,2,0,4],"12":[4,2],"13":[2,2]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["jwt","require","config","jwtExpiryTime","authController","signup","req","res","User","getByField","body","email","existingUser","status","json","error","create","isAdmin","password","newUser","signin","correctUser","bcrypt","compareSync","id","name","token","sign","process","env","JWT_SECRET","expiresIn"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;AAEA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,IAAMC,aAAa,GAAG,IAAtB;AAEA,IAAMC,cAAc,GAAG;AACnBC,EAAAA,MAAM;AAAA,0EAAE,iBAAOC,GAAP,EAAWC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACuBC,iBAAKC,UAAL,CAAgB,OAAhB,EAAyBH,GAAG,CAACI,IAAJ,CAASC,KAAlC,CADvB;;AAAA;AACEC,cAAAA,YADF;;AAAA,mBAEAA,YAFA;AAAA;AAAA;AAAA;;AAAA,+CAGOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eAArB,CAHP;;AAAA;AAAA;AAAA,qBAKkBP,iBAAKQ,MAAL,iCAAiBV,GAAG,CAACI,IAArB;AAA2BO,gBAAAA,OAAO,EAAE,KAApC;AAA2CC,gBAAAA,QAAQ,EAAE,sBAAaZ,GAAG,CAACI,IAAJ,CAASQ,QAAtB;AAArD,iBALlB;;AAAA;AAKEC,cAAAA,OALF;AAAA,+CAMGZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBK,OAArB,CANH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADa;AAUnBC,EAAAA,MAAM;AAAA,0EAAE,kBAAOd,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,0BACwBD,GAAG,CAACI,IAD5B,EACIC,KADJ,aACIA,KADJ,EACWO,QADX,aACWA,QADX;AAAA;AAAA,qBAEuBV,iBAAKC,UAAL,CAAgB,OAAhB,EAAyBE,KAAzB,CAFvB;;AAAA;AAEEC,cAAAA,YAFF;AAGES,cAAAA,WAHF,GAGgBT,YAAY,IAAIU,qBAAOC,WAAP,CAAmBL,QAAnB,EAA6BN,YAAY,CAACM,QAA1C,CAHhC;;AAAA,kBAICG,WAJD;AAAA;AAAA;AAAA;;AAAA,gDAKOd,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAArB,CALP;;AAAA;AAQIS,cAAAA,EARJ,GAQ0BZ,YAR1B,CAQIY,EARJ,EAQQC,IARR,GAQ0Bb,YAR1B,CAQQa,IARR,EAQcR,OARd,GAQ0BL,YAR1B,CAQcK,OARd;AASES,cAAAA,KATF,GASU1B,GAAG,CAAC2B,IAAJ,CAAS;AAACH,gBAAAA,EAAE,EAAFA,EAAD;AAAKP,gBAAAA,OAAO,EAAPA;AAAL,eAAT,EAAwBW,OAAO,CAACC,GAAR,CAAYC,UAApC,EAAgD;AAC1DC,gBAAAA,SAAS,EAAE5B;AAD+C,eAAhD,CATV;AAAA,gDAYGI,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACU,gBAAAA,EAAE,EAAFA,EAAD;AAAKP,gBAAAA,OAAO,EAAPA,OAAL;AAAcQ,gBAAAA,IAAI,EAAJA,IAAd;AAAoBC,gBAAAA,KAAK,EAALA;AAApB,eAArB,CAZH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAVa,CAAvB;eA0BetB,c","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\","sourcesContent":["import bcrypt from 'bcryptjs';\r\nimport hashPassword from '../services/hash';\r\nimport User from '../model/User';\r\n\r\nconst jwt = require('jsonwebtoken')\r\nrequire('dotenv').config()\r\nconst jwtExpiryTime = 3600;\r\n\r\nconst authController = {\r\n    signup: async (req,res)=> {\r\n        const existingUser = await User.getByField(\"email\", req.body.email);\r\n        if (existingUser) {\r\n            return res.status(401).json({ error: 'user already exists' });\r\n        }\r\n        const newUser = await User.create({ ...req.body, isAdmin: false, password: hashPassword(req.body.password) });\r\n        return res.status(201).json(newUser);\r\n    },\r\n    \r\n    signin: async (req, res) => {\r\n        const { email, password } = req.body\r\n        const existingUser = await User.getByField(\"email\", email);\r\n        const correctUser = existingUser && bcrypt.compareSync(password, existingUser.password)\r\n        if (!correctUser) {\r\n            return res.status(401).json({error: 'user does not exist'})\r\n        }\r\n        \r\n        const { id, name, isAdmin } = existingUser;\r\n        const token = jwt.sign({id, isAdmin}, process.env.JWT_SECRET, {\r\n            expiresIn: jwtExpiryTime,\r\n        })\r\n        return res.status(200).json({id, isAdmin, name, token})\r\n    },\r\n}\r\n\r\nexport default authController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4fc546f34a3663d34a2f1335214b10ae898a25d1","contentHash":"bb3749322a0b726bc4f9643f3869826ca8cdbecdf2a9daa5e9a94061d72bc8df"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\services\\hash.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\services\\hash.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"6":{"start":{"line":16,"column":19},"end":{"line":20,"column":1}},"7":{"start":{"line":17,"column":13},"end":{"line":17,"column":49}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":55}},"9":{"start":{"line":22,"column":15},"end":{"line":22,"column":27}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"hashPassword","decl":{"start":{"line":16,"column":28},"end":{"line":16,"column":40}},"loc":{"start":{"line":16,"column":51},"end":{"line":20,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":3,"8":3,"9":1,"10":1},"f":{"0":2,"1":3},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["hash.js"],"names":["dotenv","config","hashPassword","password","salt","bcrypt","genSaltSync","hashSync"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,mBAAOC,MAAP;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,QAAD,EAAc;AACjC,MAAMC,IAAI,GAAGC,qBAAOC,WAAP,CAAmB,EAAnB,CAAb;;AACA,SAAOD,qBAAOE,QAAP,CAAgBJ,QAAhB,EAA0BC,IAA1B,CAAP;AACD,CAHD;;eAKeF,Y","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\services\\","sourcesContent":["import bcrypt from 'bcryptjs';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst hashPassword = (password) => {\r\n  const salt = bcrypt.genSaltSync(10);\r\n  return bcrypt.hashSync(password, salt);\r\n};\r\n\r\nexport default hashPassword;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3d9d4cbe661ba4ecf86afb6672f38d95b3bc261e","contentHash":"ee21f13b38c63ff96a9cd6783d038b8fe88265003203ff48a342139b8ce2c3fd"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\model\\User.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\model\\User.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":50}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":77},"end":{"line":14,"column":175}},"6":{"start":{"line":14,"column":94},"end":{"line":14,"column":107}},"7":{"start":{"line":14,"column":121},"end":{"line":14,"column":131}},"8":{"start":{"line":14,"column":151},"end":{"line":14,"column":165}},"9":{"start":{"line":14,"column":166},"end":{"line":14,"column":173}},"10":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"11":{"start":{"line":14,"column":193},"end":{"line":14,"column":208}},"12":{"start":{"line":14,"column":218},"end":{"line":14,"column":261}},"13":{"start":{"line":16,"column":33},"end":{"line":16,"column":387}},"14":{"start":{"line":16,"column":65},"end":{"line":16,"column":69}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":87}},"16":{"start":{"line":16,"column":89},"end":{"line":16,"column":384}},"17":{"start":{"line":16,"column":147},"end":{"line":16,"column":167}},"18":{"start":{"line":16,"column":193},"end":{"line":16,"column":264}},"19":{"start":{"line":16,"column":290},"end":{"line":16,"column":360}},"20":{"start":{"line":16,"column":363},"end":{"line":16,"column":380}},"21":{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},"22":{"start":{"line":18,"column":92},"end":{"line":18,"column":149}},"23":{"start":{"line":20,"column":44},"end":{"line":20,"column":315}},"24":{"start":{"line":20,"column":57},"end":{"line":20,"column":58}},"25":{"start":{"line":20,"column":102},"end":{"line":20,"column":110}},"26":{"start":{"line":20,"column":112},"end":{"line":20,"column":167}},"27":{"start":{"line":20,"column":168},"end":{"line":20,"column":199}},"28":{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},"29":{"start":{"line":20,"column":227},"end":{"line":20,"column":254}},"30":{"start":{"line":20,"column":255},"end":{"line":20,"column":313}},"31":{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},"32":{"start":{"line":22,"column":78},"end":{"line":22,"column":131}},"33":{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},"34":{"start":{"line":22,"column":149},"end":{"line":22,"column":193}},"35":{"start":{"line":22,"column":194},"end":{"line":22,"column":213}},"36":{"start":{"line":24,"column":24},"end":{"line":157,"column":3}},"37":{"start":{"line":26,"column":4},"end":{"line":26,"column":32}},"38":{"start":{"line":29,"column":2},"end":{"line":154,"column":6}},"39":{"start":{"line":32,"column":20},"end":{"line":64,"column":9}},"40":{"start":{"line":35,"column":8},"end":{"line":63,"column":37}},"41":{"start":{"line":36,"column":10},"end":{"line":62,"column":11}},"42":{"start":{"line":37,"column":12},"end":{"line":61,"column":13}},"43":{"start":{"line":39,"column":16},"end":{"line":39,"column":153}},"44":{"start":{"line":40,"column":16},"end":{"line":40,"column":78}},"45":{"start":{"line":41,"column":16},"end":{"line":41,"column":34}},"46":{"start":{"line":42,"column":16},"end":{"line":42,"column":34}},"47":{"start":{"line":43,"column":16},"end":{"line":43,"column":65}},"48":{"start":{"line":46,"column":16},"end":{"line":46,"column":48}},"49":{"start":{"line":47,"column":16},"end":{"line":47,"column":44}},"50":{"start":{"line":48,"column":16},"end":{"line":48,"column":58}},"51":{"start":{"line":51,"column":16},"end":{"line":51,"column":35}},"52":{"start":{"line":52,"column":16},"end":{"line":52,"column":51}},"53":{"start":{"line":54,"column":16},"end":{"line":54,"column":53}},"54":{"start":{"line":56,"column":16},"end":{"line":56,"column":62}},"55":{"start":{"line":60,"column":16},"end":{"line":60,"column":39}},"56":{"start":{"line":67,"column":8},"end":{"line":67,"column":46}},"57":{"start":{"line":70,"column":6},"end":{"line":70,"column":20}},"58":{"start":{"line":75,"column":21},"end":{"line":106,"column":9}},"59":{"start":{"line":78,"column":8},"end":{"line":105,"column":37}},"60":{"start":{"line":79,"column":10},"end":{"line":104,"column":11}},"61":{"start":{"line":80,"column":12},"end":{"line":103,"column":13}},"62":{"start":{"line":82,"column":16},"end":{"line":82,"column":64}},"63":{"start":{"line":83,"column":16},"end":{"line":83,"column":35}},"64":{"start":{"line":84,"column":16},"end":{"line":84,"column":35}},"65":{"start":{"line":85,"column":16},"end":{"line":85,"column":63}},"66":{"start":{"line":88,"column":16},"end":{"line":88,"column":50}},"67":{"start":{"line":89,"column":16},"end":{"line":89,"column":45}},"68":{"start":{"line":90,"column":16},"end":{"line":90,"column":59}},"69":{"start":{"line":93,"column":16},"end":{"line":93,"column":35}},"70":{"start":{"line":94,"column":16},"end":{"line":94,"column":53}},"71":{"start":{"line":96,"column":16},"end":{"line":96,"column":54}},"72":{"start":{"line":98,"column":16},"end":{"line":98,"column":64}},"73":{"start":{"line":102,"column":16},"end":{"line":102,"column":40}},"74":{"start":{"line":109,"column":8},"end":{"line":109,"column":47}},"75":{"start":{"line":112,"column":6},"end":{"line":112,"column":21}},"76":{"start":{"line":117,"column":24},"end":{"line":146,"column":9}},"77":{"start":{"line":120,"column":8},"end":{"line":145,"column":38}},"78":{"start":{"line":121,"column":10},"end":{"line":144,"column":11}},"79":{"start":{"line":122,"column":12},"end":{"line":143,"column":13}},"80":{"start":{"line":124,"column":16},"end":{"line":124,"column":75}},"81":{"start":{"line":125,"column":16},"end":{"line":125,"column":35}},"82":{"start":{"line":126,"column":16},"end":{"line":126,"column":35}},"83":{"start":{"line":127,"column":16},"end":{"line":127,"column":59}},"84":{"start":{"line":130,"column":16},"end":{"line":130,"column":50}},"85":{"start":{"line":131,"column":16},"end":{"line":131,"column":45}},"86":{"start":{"line":132,"column":16},"end":{"line":132,"column":34}},"87":{"start":{"line":133,"column":16},"end":{"line":133,"column":59}},"88":{"start":{"line":136,"column":16},"end":{"line":136,"column":36}},"89":{"start":{"line":137,"column":16},"end":{"line":137,"column":53}},"90":{"start":{"line":138,"column":16},"end":{"line":138,"column":64}},"91":{"start":{"line":142,"column":16},"end":{"line":142,"column":40}},"92":{"start":{"line":149,"column":8},"end":{"line":149,"column":50}},"93":{"start":{"line":152,"column":6},"end":{"line":152,"column":24}},"94":{"start":{"line":156,"column":2},"end":{"line":156,"column":14}},"95":{"start":{"line":159,"column":15},"end":{"line":159,"column":25}},"96":{"start":{"line":161,"column":0},"end":{"line":161,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":265}},"line":14},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":389}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":40},"end":{"line":16,"column":41}},"loc":{"start":{"line":16,"column":52},"end":{"line":16,"column":386}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":108},"end":{"line":16,"column":109}},"loc":{"start":{"line":16,"column":135},"end":{"line":16,"column":382}},"line":16},"5":{"name":"_next","decl":{"start":{"line":16,"column":178},"end":{"line":16,"column":183}},"loc":{"start":{"line":16,"column":191},"end":{"line":16,"column":266}},"line":16},"6":{"name":"_throw","decl":{"start":{"line":16,"column":276},"end":{"line":16,"column":282}},"loc":{"start":{"line":16,"column":288},"end":{"line":16,"column":362}},"line":16},"7":{"name":"_classCallCheck","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":48},"end":{"line":18,"column":153}},"line":18},"8":{"name":"_defineProperties","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":42},"end":{"line":20,"column":317}},"line":20},"9":{"name":"_createClass","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":21}},"loc":{"start":{"line":22,"column":60},"end":{"line":22,"column":215}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":24,"column":24},"end":{"line":24,"column":25}},"loc":{"start":{"line":24,"column":36},"end":{"line":157,"column":1}},"line":24},"11":{"name":"User","decl":{"start":{"line":25,"column":11},"end":{"line":25,"column":15}},"loc":{"start":{"line":25,"column":18},"end":{"line":27,"column":3}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":11},"end":{"line":31,"column":12}},"loc":{"start":{"line":31,"column":23},"end":{"line":71,"column":5}},"line":31},"13":{"name":"_callee","decl":{"start":{"line":32,"column":85},"end":{"line":32,"column":92}},"loc":{"start":{"line":32,"column":99},"end":{"line":64,"column":7}},"line":32},"14":{"name":"_callee$","decl":{"start":{"line":35,"column":48},"end":{"line":35,"column":56}},"loc":{"start":{"line":35,"column":67},"end":{"line":63,"column":9}},"line":35},"15":{"name":"create","decl":{"start":{"line":66,"column":15},"end":{"line":66,"column":21}},"loc":{"start":{"line":66,"column":26},"end":{"line":68,"column":7}},"line":66},"16":{"name":"(anonymous_16)","decl":{"start":{"line":74,"column":11},"end":{"line":74,"column":12}},"loc":{"start":{"line":74,"column":23},"end":{"line":113,"column":5}},"line":74},"17":{"name":"_callee2","decl":{"start":{"line":75,"column":86},"end":{"line":75,"column":94}},"loc":{"start":{"line":75,"column":99},"end":{"line":106,"column":7}},"line":75},"18":{"name":"_callee2$","decl":{"start":{"line":78,"column":48},"end":{"line":78,"column":57}},"loc":{"start":{"line":78,"column":69},"end":{"line":105,"column":9}},"line":78},"19":{"name":"getById","decl":{"start":{"line":108,"column":15},"end":{"line":108,"column":22}},"loc":{"start":{"line":108,"column":28},"end":{"line":110,"column":7}},"line":108},"20":{"name":"(anonymous_20)","decl":{"start":{"line":116,"column":11},"end":{"line":116,"column":12}},"loc":{"start":{"line":116,"column":23},"end":{"line":153,"column":5}},"line":116},"21":{"name":"_callee3","decl":{"start":{"line":117,"column":89},"end":{"line":117,"column":97}},"loc":{"start":{"line":117,"column":112},"end":{"line":146,"column":7}},"line":117},"22":{"name":"_callee3$","decl":{"start":{"line":120,"column":48},"end":{"line":120,"column":57}},"loc":{"start":{"line":120,"column":69},"end":{"line":145,"column":9}},"line":120},"23":{"name":"getByField","decl":{"start":{"line":148,"column":15},"end":{"line":148,"column":25}},"loc":{"start":{"line":148,"column":36},"end":{"line":150,"column":7}},"line":148}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"type":"if","locations":[{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},{"start":{"line":14,"column":176},"end":{"line":14,"column":263}}],"line":14},"3":{"loc":{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},"type":"if","locations":[{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},{"start":{"line":18,"column":50},"end":{"line":18,"column":151}}],"line":18},"4":{"loc":{"start":{"line":20,"column":136},"end":{"line":20,"column":166}},"type":"binary-expr","locations":[{"start":{"line":20,"column":136},"end":{"line":20,"column":157}},{"start":{"line":20,"column":161},"end":{"line":20,"column":166}}],"line":20},"5":{"loc":{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},"type":"if","locations":[{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},{"start":{"line":20,"column":200},"end":{"line":20,"column":254}}],"line":20},"6":{"loc":{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},"type":"if","locations":[{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},{"start":{"line":22,"column":62},"end":{"line":22,"column":131}}],"line":22},"7":{"loc":{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},"type":"if","locations":[{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},{"start":{"line":22,"column":132},"end":{"line":22,"column":193}}],"line":22},"8":{"loc":{"start":{"line":37,"column":12},"end":{"line":61,"column":13}},"type":"switch","locations":[{"start":{"line":38,"column":14},"end":{"line":43,"column":65}},{"start":{"line":45,"column":14},"end":{"line":48,"column":58}},{"start":{"line":50,"column":14},"end":{"line":56,"column":62}},{"start":{"line":58,"column":14},"end":{"line":58,"column":22}},{"start":{"line":59,"column":14},"end":{"line":60,"column":39}}],"line":37},"9":{"loc":{"start":{"line":80,"column":12},"end":{"line":103,"column":13}},"type":"switch","locations":[{"start":{"line":81,"column":14},"end":{"line":85,"column":63}},{"start":{"line":87,"column":14},"end":{"line":90,"column":59}},{"start":{"line":92,"column":14},"end":{"line":98,"column":64}},{"start":{"line":100,"column":14},"end":{"line":100,"column":22}},{"start":{"line":101,"column":14},"end":{"line":102,"column":40}}],"line":80},"10":{"loc":{"start":{"line":122,"column":12},"end":{"line":143,"column":13}},"type":"switch","locations":[{"start":{"line":123,"column":14},"end":{"line":127,"column":59}},{"start":{"line":129,"column":14},"end":{"line":133,"column":59}},{"start":{"line":135,"column":14},"end":{"line":138,"column":64}},{"start":{"line":140,"column":14},"end":{"line":140,"column":22}},{"start":{"line":141,"column":14},"end":{"line":142,"column":40}}],"line":122}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":20,"6":20,"7":20,"8":0,"9":0,"10":20,"11":10,"12":10,"13":3,"14":10,"15":10,"16":10,"17":10,"18":20,"19":0,"20":10,"21":1,"22":0,"23":1,"24":1,"25":3,"26":3,"27":3,"28":3,"29":3,"30":3,"31":1,"32":1,"33":1,"34":0,"35":1,"36":1,"37":1,"38":1,"39":1,"40":3,"41":9,"42":9,"43":3,"44":3,"45":3,"46":3,"47":3,"48":3,"49":3,"50":3,"51":0,"52":0,"53":0,"54":0,"55":3,"56":3,"57":1,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":1,"77":7,"78":21,"79":21,"80":7,"81":7,"82":7,"83":7,"84":7,"85":7,"86":7,"87":7,"88":0,"89":0,"90":0,"91":7,"92":7,"93":1,"94":1,"95":1,"96":1},"f":{"0":2,"1":20,"2":3,"3":10,"4":10,"5":20,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":3,"14":9,"15":3,"16":1,"17":0,"18":0,"19":0,"20":1,"21":7,"22":21,"23":7},"b":{"0":[2,0],"1":[2,2],"2":[10,10],"3":[0,1],"4":[3,3],"5":[3,0],"6":[1,0],"7":[0,1],"8":[3,3,0,0,3],"9":[0,0,0,0,0],"10":[7,7,0,0,7]},"inputSourceMap":{"version":3,"sources":["User.js"],"names":["User","data","createQuery","values","name","email","password","isAdmin","db","query","rows","logger","info","id","field","value","text","console","log"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;IAEMA,I;;;;;;;;4EACF,iBAAaC,IAAb;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUC,gBAAAA,WADV;AAKUC,gBAAAA,MALV,GAKmB,CACXF,IAAI,CAACG,IADM,EAEXH,IAAI,CAACI,KAFM,EAGXJ,IAAI,CAACK,QAHM,EAIXL,IAAI,CAACM,OAJM,CALnB;AAAA;AAAA;AAAA,uBAc+BC,eAAGC,KAAH,CAASP,WAAT,EAAsBC,MAAtB,CAd/B;;AAAA;AAAA;AAcgBO,gBAAAA,IAdhB,mBAcgBA,IAdhB;AAAA,iDAeeA,IAAI,CAAC,CAAD,CAfnB;;AAAA;AAAA;AAAA;;AAiBQC,mCAAOC,IAAP;;AAjBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;6EAsBA,kBAAcC,EAAd;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUX,gBAAAA,WADV;AAAA;AAAA;AAAA,uBAG+BM,eAAGC,KAAH,CAASP,WAAT,EAAsB,CAACW,EAAD,CAAtB,CAH/B;;AAAA;AAAA;AAGgBH,gBAAAA,IAHhB,oBAGgBA,IAHhB;AAAA,kDAIeA,IAAI,CAAC,CAAD,CAJnB;;AAAA;AAAA;AAAA;;AAMQC,mCAAOC,IAAP;;AANR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;gFAWA,kBAAiBE,KAAjB,EAAwBC,KAAxB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUC,gBAAAA,IADV,uCAC8CF,KAD9C;AAAA;AAAA;AAAA,uBAG+BN,eAAGC,KAAH,CAASO,IAAT,EAAe,CAACD,KAAD,CAAf,CAH/B;;AAAA;AAAA;AAGgBL,gBAAAA,IAHhB,oBAGgBA,IAHhB;AAIQO,gBAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AAJR,kDAKaA,IAAI,CAAC,CAAD,CALjB;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;eAYW,IAAIV,IAAJ,E","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\model\\","sourcesContent":["import db from '../db';\r\nimport logger from '../services/logger';\r\n\r\nclass User {\r\n    async create(data) {\r\n        const createQuery = `INSERT INTO users (\"name\", \"email\", \"password\", \"isAdmin\")\r\n         VALUES($1, $2, $3, $4)\r\n         returning*`;\r\n        \r\n        const values = [\r\n            data.name,\r\n            data.email,\r\n            data.password,\r\n            data.isAdmin,\r\n        ];\r\n\r\n        \r\n        try {\r\n            const { rows } = await db.query(createQuery, values);\r\n            return rows[0]\r\n        } catch (error) {\r\n            logger.info(error);\r\n            return error;\r\n        }\r\n    }\r\n\r\n    async getById(id) {\r\n        const createQuery = `SELECT * FROM users WHERE id=$1`;\r\n        try {\r\n            const { rows } = await db.query(createQuery, [id])\r\n            return rows[0]\r\n        } catch (error) {\r\n            logger.info(error)\r\n            return error\r\n        }\r\n    }\r\n\r\n    async getByField(field, value) {\r\n        const text = `SELECT * FROM users WHERE ${field} = $1`;\r\n        try {\r\n            const { rows } = await db.query(text, [value]);\r\n            console.log(rows)\r\n          return rows[0];\r\n        } catch (error) {\r\n          return error;\r\n        }\r\n    }\r\n}\r\n\r\nexport default new User();\r\n            "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4c0894485e973527eb37607ff4bad999da9f9e58","contentHash":"a833c1699a5056b5b50d7013bfc5955f63a9ee76c833ae219c80797f0d4b14d1"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\db\\index.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\db\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":55}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":10},"end":{"line":10,"column":23}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":44}},"7":{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":78}},"9":{"start":{"line":22,"column":2},"end":{"line":22,"column":73}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":75}},"11":{"start":{"line":27,"column":9},"end":{"line":29,"column":2}},"12":{"start":{"line":30,"column":0},"end":{"line":30,"column":13}},"13":{"start":{"line":31,"column":0},"end":{"line":33,"column":3}},"14":{"start":{"line":32,"column":2},"end":{"line":32,"column":51}},"15":{"start":{"line":34,"column":0},"end":{"line":36,"column":3}},"16":{"start":{"line":35,"column":2},"end":{"line":35,"column":59}},"17":{"start":{"line":37,"column":15},"end":{"line":37,"column":17}},"18":{"start":{"line":38,"column":0},"end":{"line":38,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":17},"end":{"line":31,"column":18}},"loc":{"start":{"line":31,"column":29},"end":{"line":33,"column":1}},"line":31},"2":{"name":"(anonymous_2)","decl":{"start":{"line":34,"column":15},"end":{"line":34,"column":16}},"loc":{"start":{"line":34,"column":27},"end":{"line":36,"column":1}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},"type":"if","locations":[{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},{"start":{"line":19,"column":0},"end":{"line":23,"column":1}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":1,"16":0,"17":1,"18":1},"f":{"0":1,"1":2,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["require","config","connectionString","process","env","NODE_ENV","DATABASE_TEST_URL","DATABASE_URL","logger","info","db","Pool","connect","on"],"mappings":";;;;;;;AAAA;;AAEA;;;;AADAA,OAAO,CAAE,QAAF,CAAP,CAAmBC,MAAnB;;AAGA,IAAIC,gBAAJ;;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EAAqC;AACjC,6BAAAH,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYE,iBAA/B;AACH,CAFD,MAEO;AACH,6BAAAJ,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYG,YAA/B;AACH;;AACDC,mBAAOC,IAAP,6BAAiCN,OAAO,CAACC,GAAR,CAAYC,QAA7C;;AAEA,IAAMK,EAAE,GAAG,IAAIC,QAAJ,CAAS;AAChBT,EAAAA,gBAAgB,EAAhBA;AADgB,CAAT,CAAX;AAGAQ,EAAE,CAACE,OAAH;AACAF,EAAE,CAACG,EAAH,CAAM,SAAN,EAAiB,YAAK;AAClBL,qBAAOC,IAAP,CAAY,uBAAZ;AACH,CAFD;AAGAC,EAAE,CAACG,EAAH,CAAM,OAAN,EAAe,YAAK;AAChBL,qBAAOC,IAAP,CAAY,+BAAZ;AACH,CAFD;eAKeC,E","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\db\\","sourcesContent":["import logger from '../services/logger';\r\nrequire ('dotenv').config()\r\nimport { Pool } from 'pg';\r\n\r\nlet connectionString;\r\nif (process.env.NODE_ENV === 'test') {\r\n    connectionString = process.env.DATABASE_TEST_URL\r\n} else {\r\n    connectionString = process.env.DATABASE_URL\r\n}\r\nlogger.info(`NODE_environment: ${process.env.NODE_ENV}`)\r\n\r\nconst db = new Pool({\r\n    connectionString\r\n})\r\ndb.connect()\r\ndb.on('connect', ()=> {\r\n    logger.info('connected to database')\r\n})\r\ndb.on('error', ()=> {\r\n    logger.info('failed to connect to database')\r\n})\r\n\r\nexport {connectionString};\r\nexport default db;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fef17310b911d222c2bff750f0b7d1f3c1cc9643","contentHash":"16f5536945026a1a7d05cd175be3739e3169977451160466911af33865ceed36"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\services\\logger.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\services\\logger.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":13},"end":{"line":16,"column":2}},"5":{"start":{"line":18,"column":15},"end":{"line":18,"column":21}},"6":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["logger.js"],"names":["logger","winston","createLogger","level","format","json","transports","Console"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,YAAR,CAAqB;AAClCC,EAAAA,KAAK,EAAE,MAD2B;AAElCC,EAAAA,MAAM,EAAEH,oBAAQG,MAAR,CAAeC,IAAf,EAF0B;AAGlCC,EAAAA,UAAU,EAAE,CACV,IAAIL,oBAAQK,UAAR,CAAmBC,OAAvB,EADU;AAHsB,CAArB,CAAf;;eAQeP,M","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\services\\","sourcesContent":["import winston from 'winston';\r\n\r\nconst logger = winston.createLogger({\r\n  level: 'info',\r\n  format: winston.format.json(),\r\n  transports: [\r\n    new winston.transports.Console(),\r\n  ],\r\n});\r\n\r\nexport default logger;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ed4b34db4a51173dbc776b915d004e78deda465","contentHash":"64dba8cc84fe0e7cf513a9c4d347ec6835673d065d1da275995183da6929e8b7"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\signupValidation.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\signupValidation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":21},"end":{"line":33,"column":1}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":57}},"4":{"start":{"line":11,"column":4},"end":{"line":14,"column":68}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":86}},"6":{"start":{"line":16,"column":4},"end":{"line":18,"column":66}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":95}},"8":{"start":{"line":20,"column":17},"end":{"line":20,"column":39}},"9":{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},"10":{"start":{"line":23,"column":23},"end":{"line":25,"column":11}},"11":{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},"12":{"start":{"line":26,"column":6},"end":{"line":28,"column":9}},"13":{"start":{"line":31,"column":4},"end":{"line":31,"column":11}},"14":{"start":{"line":34,"column":15},"end":{"line":34,"column":29}},"15":{"start":{"line":35,"column":0},"end":{"line":35,"column":30}}},"fnMap":{"0":{"name":"signupValidation","decl":{"start":{"line":8,"column":29},"end":{"line":8,"column":45}},"loc":{"start":{"line":8,"column":62},"end":{"line":32,"column":3}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":34},"end":{"line":23,"column":35}},"loc":{"start":{"line":23,"column":51},"end":{"line":25,"column":7}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},{"start":{"line":22,"column":4},"end":{"line":29,"column":5}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":3,"6":3,"7":3,"8":3,"9":3,"10":0,"11":0,"12":0,"13":3,"14":1,"15":1},"f":{"0":3,"1":0},"b":{"0":[0,3]},"inputSourceMap":{"version":3,"sources":["signupValidation.js"],"names":["validateSignup","signupValidation","req","res","next","check","notEmpty","isLength","min","max","withMessage","matches","errors","validationErrors","firstError","map","error","msg","status","json"],"mappings":";;;;;;AAAA,IAAMA,cAAc,GAAG;AACnBC,EAAAA,gBAAgB,EAAE,0BAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAkB;AAChC;AACAF,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmB,qBAAnB,EAA0CC,QAA1C;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmBE,QAAnB,CAA4B;AAACC,MAAAA,GAAG,EAAE,CAAN;AAASC,MAAAA,GAAG,EAAE;AAAd,KAA5B,EAAgDC,WAAhD,CAA4D,+CAA5D;AACAR,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmBM,OAAnB,CAA2B,OAA3B,EAAoCD,WAApC,CAAgD,gCAAhD;AACAR,IAAAA,GAAG,CAACG,KAAJ,CAAU,UAAV,EAAsBE,QAAtB,CAA+B;AAACC,MAAAA,GAAG,EAAE;AAAN,KAA/B,EAAyCE,WAAzC,CAAqD,6CAArD;AACAR,IAAAA,GAAG,CAACG,KAAJ,CAAU,UAAV,EAAsBM,OAAtB,CAA8B,IAA9B,EAAoCD,WAApC,CAAgD,yCAAhD;AAEA,QAAME,MAAM,GAAGV,GAAG,CAACW,gBAAJ,EAAf;;AACA,QAAID,MAAJ,EAAY;AACR,UAAME,UAAU,GAAGF,MAAM,CAACG,GAAP,CAAW,UAAAC,KAAK;AAAA,eAAIA,KAAK,CAACC,GAAV;AAAA,OAAhB,EAA+B,CAA/B,CAAnB;AACA,aAAOd,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,QAAAA,KAAK,EAAEF;AAAT,OAArB,CAAP;AACH;;AACDV,IAAAA,IAAI;AACP;AAfkB,CAAvB;eAkBeJ,c","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\","sourcesContent":["const validateSignup = {\r\n    signupValidation: (req,res,next) => {\r\n        // req.check('name', 'fill in name field').notEmpty();\r\n        req.check('email', 'fill in email field').notEmpty();\r\n        req.check('email').isLength({min: 4, max: 150}).withMessage('email must contain between 4 - 150 characters');\r\n        req.check('email').matches(/.+@.+/).withMessage('email must contain an @ symbol');\r\n        req.check('password').isLength({min: 4}).withMessage('password must contain at least 6 characters');\r\n        req.check('password').matches(/\\d/).withMessage('password must contain a digit character');\r\n\r\n        const errors = req.validationErrors()\r\n        if (errors) {\r\n            const firstError = errors.map(error => error.msg)[0]\r\n            return res.status(422).json({ error: firstError })\r\n        }\r\n        next()\r\n    }\r\n}\r\n\r\nexport default validateSignup;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d91a755e555616bb67add568cbeed518cbb5cd96","contentHash":"624bf20a1b790f35707f5ff1badfc8f5ea93912ec36e7780b797d9ed91cef9d3"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\signinValidation.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\signinValidation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":19},"end":{"line":32,"column":1}},"3":{"start":{"line":9,"column":4},"end":{"line":9,"column":57}},"4":{"start":{"line":10,"column":4},"end":{"line":13,"column":68}},"5":{"start":{"line":14,"column":4},"end":{"line":14,"column":86}},"6":{"start":{"line":15,"column":4},"end":{"line":17,"column":66}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":95}},"8":{"start":{"line":19,"column":17},"end":{"line":19,"column":39}},"9":{"start":{"line":21,"column":4},"end":{"line":28,"column":5}},"10":{"start":{"line":22,"column":23},"end":{"line":24,"column":11}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"12":{"start":{"line":25,"column":6},"end":{"line":27,"column":9}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":11}},"14":{"start":{"line":33,"column":15},"end":{"line":33,"column":27}},"15":{"start":{"line":34,"column":0},"end":{"line":34,"column":30}}},"fnMap":{"0":{"name":"signInValidation","decl":{"start":{"line":8,"column":29},"end":{"line":8,"column":45}},"loc":{"start":{"line":8,"column":62},"end":{"line":31,"column":3}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":34},"end":{"line":22,"column":35}},"loc":{"start":{"line":22,"column":51},"end":{"line":24,"column":7}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":28,"column":5}},{"start":{"line":21,"column":4},"end":{"line":28,"column":5}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":7,"4":7,"5":7,"6":7,"7":7,"8":7,"9":7,"10":3,"11":4,"12":3,"13":4,"14":1,"15":1},"f":{"0":7,"1":4},"b":{"0":[3,4]},"inputSourceMap":{"version":3,"sources":["signinValidation.js"],"names":["valideSignin","signInValidation","req","res","next","check","notEmpty","isLength","min","max","withMessage","matches","errors","validationErrors","firstError","map","error","msg","status","json"],"mappings":";;;;;;AAAA,IAAMA,YAAY,GAAG;AACjBC,EAAAA,gBAAgB,EAAE,0BAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAkB;AAChCF,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmB,qBAAnB,EAA0CC,QAA1C;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmBE,QAAnB,CAA4B;AAACC,MAAAA,GAAG,EAAE,CAAN;AAASC,MAAAA,GAAG,EAAE;AAAd,KAA5B,EAAgDC,WAAhD,CAA4D,+CAA5D;AACAR,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmBM,OAAnB,CAA2B,OAA3B,EAAoCD,WAApC,CAAgD,gCAAhD;AACAR,IAAAA,GAAG,CAACG,KAAJ,CAAU,UAAV,EAAsBE,QAAtB,CAA+B;AAACC,MAAAA,GAAG,EAAE;AAAN,KAA/B,EAAyCE,WAAzC,CAAqD,6CAArD;AACAR,IAAAA,GAAG,CAACG,KAAJ,CAAU,UAAV,EAAsBM,OAAtB,CAA8B,IAA9B,EAAoCD,WAApC,CAAgD,yCAAhD;AAEA,QAAME,MAAM,GAAGV,GAAG,CAACW,gBAAJ,EAAf;;AACA,QAAID,MAAJ,EAAY;AACR,UAAME,UAAU,GAAGF,MAAM,CAACG,GAAP,CAAW,UAAAC,KAAK;AAAA,eAAIA,KAAK,CAACC,GAAV;AAAA,OAAhB,EAA+B,CAA/B,CAAnB;AACA,aAAOd,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,QAAAA,KAAK,EAAEF;AAAT,OAArB,CAAP;AACH;;AACDV,IAAAA,IAAI;AACP;AAdgB,CAArB;eAiBeJ,Y","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\","sourcesContent":["const valideSignin = {\r\n    signInValidation: (req,res,next) => {\r\n        req.check('email', 'fill in email field').notEmpty();\r\n        req.check('email').isLength({min: 4, max: 150}).withMessage('email must contain between 4 - 150 characters');\r\n        req.check('email').matches(/.+@.+/).withMessage('email must contain an @ symbol');\r\n        req.check('password').isLength({min: 6}).withMessage('password must contain at least 6 characters');\r\n        req.check('password').matches(/\\d/).withMessage('password must contain a digit character');\r\n\r\n        const errors = req.validationErrors()\r\n        if (errors) {\r\n            const firstError = errors.map(error => error.msg)[0]\r\n            return res.status(422).json({ error: firstError })\r\n        }\r\n        next()\r\n    }\r\n}\r\n\r\nexport default valideSignin;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"866d5aafe6cb45770a1181e32128dc431b49db03","contentHash":"757fd3300d99f0311130bc12fdfdc75ea5a51d2b5a9507d17635fdb35af61749"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\user.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\user.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":66}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":66}},"3":{"start":{"line":9,"column":39},"end":{"line":9,"column":95}},"4":{"start":{"line":11,"column":13},"end":{"line":11,"column":41}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":52}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":63}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":97}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":94}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":94}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":3,"4":1,"5":1,"6":1,"7":1},"f":{"0":3},"b":{"0":[2,1],"1":[3,3]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["router","express","Router","getUserProfile","userController","get","verifyToken","module","exports"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEA,IAAQC,cAAR,GAA2BC,gBAA3B,CAAQD,cAAR;AAEAH,MAAM,CAACK,GAAP,CAAW,gBAAX,EAA6BC,gBAA7B,EAA0CH,cAA1C;AAEAI,MAAM,CAACC,OAAP,GAAiBR,MAAjB","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\","sourcesContent":["import express from 'express';\r\nimport userController from '../controllers/user';\r\nimport verifyToken from '../middlewares/auth';\r\n\r\nconst router = express.Router();\r\n\r\nconst { getUserProfile } = userController\r\n\r\nrouter.get('/users/:userId', verifyToken, getUserProfile);\r\n\r\nmodule.exports = router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3d91af7acf5372ebac9bca8a933bb98500b1c49","contentHash":"94381f9d0fc0cdc44f4b9507a48a7626ec8b8fd786339e8c6da6c7693a8b9c9b"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\user.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":60}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":77},"end":{"line":12,"column":175}},"5":{"start":{"line":12,"column":94},"end":{"line":12,"column":107}},"6":{"start":{"line":12,"column":121},"end":{"line":12,"column":131}},"7":{"start":{"line":12,"column":151},"end":{"line":12,"column":165}},"8":{"start":{"line":12,"column":166},"end":{"line":12,"column":173}},"9":{"start":{"line":12,"column":176},"end":{"line":12,"column":263}},"10":{"start":{"line":12,"column":193},"end":{"line":12,"column":208}},"11":{"start":{"line":12,"column":218},"end":{"line":12,"column":261}},"12":{"start":{"line":14,"column":33},"end":{"line":14,"column":387}},"13":{"start":{"line":14,"column":65},"end":{"line":14,"column":69}},"14":{"start":{"line":14,"column":78},"end":{"line":14,"column":87}},"15":{"start":{"line":14,"column":89},"end":{"line":14,"column":384}},"16":{"start":{"line":14,"column":147},"end":{"line":14,"column":167}},"17":{"start":{"line":14,"column":193},"end":{"line":14,"column":264}},"18":{"start":{"line":14,"column":290},"end":{"line":14,"column":360}},"19":{"start":{"line":14,"column":363},"end":{"line":14,"column":380}},"20":{"start":{"line":16,"column":21},"end":{"line":64,"column":1}},"21":{"start":{"line":18,"column":26},"end":{"line":56,"column":7}},"22":{"start":{"line":20,"column":6},"end":{"line":55,"column":34}},"23":{"start":{"line":21,"column":8},"end":{"line":54,"column":9}},"24":{"start":{"line":22,"column":10},"end":{"line":53,"column":11}},"25":{"start":{"line":24,"column":14},"end":{"line":24,"column":32}},"26":{"start":{"line":25,"column":14},"end":{"line":25,"column":32}},"27":{"start":{"line":26,"column":14},"end":{"line":26,"column":65}},"28":{"start":{"line":29,"column":14},"end":{"line":29,"column":40}},"29":{"start":{"line":31,"column":14},"end":{"line":34,"column":15}},"30":{"start":{"line":32,"column":16},"end":{"line":32,"column":34}},"31":{"start":{"line":33,"column":16},"end":{"line":33,"column":22}},"32":{"start":{"line":36,"column":14},"end":{"line":38,"column":18}},"33":{"start":{"line":41,"column":14},"end":{"line":41,"column":80}},"34":{"start":{"line":44,"column":14},"end":{"line":44,"column":32}},"35":{"start":{"line":45,"column":14},"end":{"line":45,"column":49}},"36":{"start":{"line":46,"column":14},"end":{"line":48,"column":18}},"37":{"start":{"line":52,"column":14},"end":{"line":52,"column":37}},"38":{"start":{"line":59,"column":6},"end":{"line":59,"column":52}},"39":{"start":{"line":62,"column":4},"end":{"line":62,"column":26}},"40":{"start":{"line":65,"column":15},"end":{"line":65,"column":29}},"41":{"start":{"line":66,"column":0},"end":{"line":66,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":27}},"loc":{"start":{"line":12,"column":75},"end":{"line":12,"column":265}},"line":12},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":389}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":40},"end":{"line":14,"column":41}},"loc":{"start":{"line":14,"column":52},"end":{"line":14,"column":386}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":108},"end":{"line":14,"column":109}},"loc":{"start":{"line":14,"column":135},"end":{"line":14,"column":382}},"line":14},"5":{"name":"_next","decl":{"start":{"line":14,"column":178},"end":{"line":14,"column":183}},"loc":{"start":{"line":14,"column":191},"end":{"line":14,"column":266}},"line":14},"6":{"name":"_throw","decl":{"start":{"line":14,"column":276},"end":{"line":14,"column":282}},"loc":{"start":{"line":14,"column":288},"end":{"line":14,"column":362}},"line":14},"7":{"name":"(anonymous_7)","decl":{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},"loc":{"start":{"line":17,"column":30},"end":{"line":63,"column":3}},"line":17},"8":{"name":"_callee","decl":{"start":{"line":18,"column":91},"end":{"line":18,"column":98}},"loc":{"start":{"line":18,"column":109},"end":{"line":56,"column":5}},"line":18},"9":{"name":"_callee$","decl":{"start":{"line":20,"column":46},"end":{"line":20,"column":54}},"loc":{"start":{"line":20,"column":65},"end":{"line":55,"column":7}},"line":20},"10":{"name":"getUserProfile","decl":{"start":{"line":58,"column":13},"end":{"line":58,"column":27}},"loc":{"start":{"line":58,"column":37},"end":{"line":60,"column":5}},"line":58}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":12,"column":176},"end":{"line":12,"column":263}},"type":"if","locations":[{"start":{"line":12,"column":176},"end":{"line":12,"column":263}},{"start":{"line":12,"column":176},"end":{"line":12,"column":263}}],"line":12},"3":{"loc":{"start":{"line":22,"column":10},"end":{"line":53,"column":11}},"type":"switch","locations":[{"start":{"line":23,"column":12},"end":{"line":26,"column":65}},{"start":{"line":28,"column":12},"end":{"line":38,"column":18}},{"start":{"line":40,"column":12},"end":{"line":41,"column":80}},{"start":{"line":43,"column":12},"end":{"line":48,"column":18}},{"start":{"line":50,"column":12},"end":{"line":50,"column":20}},{"start":{"line":51,"column":12},"end":{"line":52,"column":37}}],"line":22},"4":{"loc":{"start":{"line":31,"column":14},"end":{"line":34,"column":15}},"type":"if","locations":[{"start":{"line":31,"column":14},"end":{"line":34,"column":15}},{"start":{"line":31,"column":14},"end":{"line":34,"column":15}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":1,"41":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0,0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["userController","getUserProfile","req","res","User","getById","params","userId","foundUser","status","json","error"],"mappings":";;;;;;;AAAA;;;;;;;;AAEA,IAAMA,cAAc,GAAG;AACnBC,EAAAA,cAAc;AAAA,kFAAE,iBAAOC,GAAP,EAAWC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEgBC,iBAAKC,OAAL,CAAaH,GAAG,CAACI,MAAJ,CAAWC,MAAxB,CAFhB;;AAAA;AAEFC,cAAAA,SAFE;;AAAA,kBAGHA,SAHG;AAAA;AAAA;AAAA;;AAAA,+CAIGL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAArB,CAJH;;AAAA;AAAA,+CAMDR,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,SAArB,CANC;;AAAA;AAAA;AAAA;AAAA,+CAQDL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAArB,CARC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADK,CAAvB;eAceX,c","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\","sourcesContent":["import User from '../model/User';\r\n\r\nconst userController = {\r\n    getUserProfile: async (req,res)=> {\r\n        try {\r\n            const foundUser = await User.getById(req.params.userId)\r\n            if (!foundUser) {\r\n                return res.status(404).json({error: 'user not found'})\r\n            }\r\n            return res.status(200).json(foundUser)\r\n        } catch (error) {\r\n            return res.status(500).json({error: 'internal server error'})\r\n        }\r\n    },\r\n}\r\n\r\nexport default userController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"98a669320302defee8683195bb01e39253ff62ca","contentHash":"8e2629e94ae9743ba53897561e2aec5170c26483b7928ab77a07a25342a93c18"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\auth.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":75}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"5":{"start":{"line":14,"column":18},"end":{"line":34,"column":1}},"6":{"start":{"line":15,"column":14},"end":{"line":15,"column":39}},"7":{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},"8":{"start":{"line":18,"column":4},"end":{"line":20,"column":7}},"9":{"start":{"line":23,"column":2},"end":{"line":33,"column":5}},"10":{"start":{"line":24,"column":4},"end":{"line":28,"column":5}},"11":{"start":{"line":25,"column":6},"end":{"line":27,"column":9}},"12":{"start":{"line":30,"column":4},"end":{"line":30,"column":27}},"13":{"start":{"line":31,"column":4},"end":{"line":31,"column":29}},"14":{"start":{"line":32,"column":4},"end":{"line":32,"column":11}},"15":{"start":{"line":36,"column":20},"end":{"line":44,"column":1}},"16":{"start":{"line":37,"column":2},"end":{"line":41,"column":3}},"17":{"start":{"line":38,"column":4},"end":{"line":40,"column":7}},"18":{"start":{"line":43,"column":2},"end":{"line":43,"column":9}},"19":{"start":{"line":46,"column":0},"end":{"line":46,"column":38}},"20":{"start":{"line":48,"column":19},"end":{"line":56,"column":1}},"21":{"start":{"line":49,"column":2},"end":{"line":53,"column":3}},"22":{"start":{"line":50,"column":4},"end":{"line":52,"column":7}},"23":{"start":{"line":55,"column":2},"end":{"line":55,"column":9}},"24":{"start":{"line":58,"column":0},"end":{"line":58,"column":36}},"25":{"start":{"line":59,"column":15},"end":{"line":59,"column":26}},"26":{"start":{"line":60,"column":0},"end":{"line":60,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"verifyToken","decl":{"start":{"line":14,"column":27},"end":{"line":14,"column":38}},"loc":{"start":{"line":14,"column":55},"end":{"line":34,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":65},"end":{"line":23,"column":66}},"loc":{"start":{"line":23,"column":92},"end":{"line":33,"column":3}},"line":23},"3":{"name":"verifyAsAdmin","decl":{"start":{"line":36,"column":29},"end":{"line":36,"column":42}},"loc":{"start":{"line":36,"column":59},"end":{"line":44,"column":1}},"line":36},"4":{"name":"verifyAsUser","decl":{"start":{"line":48,"column":28},"end":{"line":48,"column":40}},"loc":{"start":{"line":48,"column":57},"end":{"line":56,"column":1}},"line":48}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},{"start":{"line":17,"column":2},"end":{"line":21,"column":3}}],"line":17},"3":{"loc":{"start":{"line":24,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":28,"column":5}},{"start":{"line":24,"column":4},"end":{"line":28,"column":5}}],"line":24},"4":{"loc":{"start":{"line":37,"column":2},"end":{"line":41,"column":3}},"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":41,"column":3}},{"start":{"line":37,"column":2},"end":{"line":41,"column":3}}],"line":37},"5":{"loc":{"start":{"line":49,"column":2},"end":{"line":53,"column":3}},"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":53,"column":3}},{"start":{"line":49,"column":2},"end":{"line":53,"column":3}}],"line":49}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1},"f":{"0":1,"1":1,"2":1,"3":0,"4":0},"b":{"0":[0,1],"1":[1,1],"2":[0,1],"3":[0,1],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["require","config","verifyToken","req","res","next","token","headers","authorization","status","json","error","jwt","verify","process","env","JWT_SECRET","authData","decoded","console","log","verifyAsAdmin","isAdmin","verifyAsUser"],"mappings":";;;;;;;AAAA;;;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAiB;AACjC,MAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,MAAI,CAACF,KAAL,EAAY;AACR,WAAOF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAArB,CAAP;AACH;;AAEDC,2BAAIC,MAAJ,CAAWP,KAAX,EAAkBQ,OAAO,CAACC,GAAR,CAAYC,UAA9B,EAA0C,UAACL,KAAD,EAAQM,QAAR,EAAoB;AAC1D,QAAIN,KAAJ,EAAW;AACP,aAAOP,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAArB,CAAP;AACH;;AACDR,IAAAA,GAAG,CAACe,OAAJ,GAAcD,QAAd;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYjB,GAAG,CAACe,OAAhB;AACAb,IAAAA,IAAI;AACP,GAPD;AAQH,CAdD;;AAgBO,IAAMgB,aAAa,GAAG,SAAhBA,aAAgB,CAAClB,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAiB;AAC1C,MAAI,CAACF,GAAG,CAACe,OAAJ,CAAYI,OAAjB,EAA0B;AACtB,WAAOlB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAArB,CAAP;AACH;;AACDN,EAAAA,IAAI;AACP,CALM;;;;AAOA,IAAMkB,YAAY,GAAG,SAAfA,YAAe,CAACpB,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAiB;AACzC,MAAI,CAACF,GAAG,CAACe,OAAT,EAAkB;AACd,WAAOd,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAArB,CAAP;AACH;;AACDN,EAAAA,IAAI;AACP,CALM;;;eAOQH,W","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\","sourcesContent":["import jwt from 'jsonwebtoken';\r\nrequire('dotenv').config();\r\n\r\nconst verifyToken = (req,res,next)=> {\r\n    const token = req.headers.authorization;\r\n    if (!token) {\r\n        return res.status(403).json({ error: 'user unauthorized' })\r\n    }\r\n\r\n    jwt.verify(token, process.env.JWT_SECRET, (error, authData)=> {\r\n        if (error) {\r\n            return res.status(403).json({ error: 'unauthorized' })\r\n        }\r\n        req.decoded = authData\r\n        console.log(req.decoded)\r\n        next();\r\n    })\r\n}\r\n\r\nexport const verifyAsAdmin = (req,res,next)=> {\r\n    if (!req.decoded.isAdmin) {\r\n        return res.status(403).json({ error: 'user unauthorized' })\r\n    }\r\n    next();\r\n}\r\n\r\nexport const verifyAsUser = (req,res,next)=> {\r\n    if (!req.decoded) {\r\n        return res.status(403).json({ error: 'user unauthorized' })\r\n    }\r\n    next();\r\n}\r\n\r\nexport default verifyToken;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"33ade731c83c8b0ae92f5d68f29e8e80b15ad3b9","contentHash":"33ec23383e77dc8f04d4f2b1fb2daed0f330c42b7de84a3395edbe599cf8eb59"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\product.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\product.js","statementMap":{"0":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"1":{"start":{"line":3,"column":126},"end":{"line":3,"column":181}},"2":{"start":{"line":3,"column":160},"end":{"line":3,"column":178}},"3":{"start":{"line":3,"column":191},"end":{"line":3,"column":353}},"4":{"start":{"line":3,"column":225},"end":{"line":3,"column":350}},"5":{"start":{"line":3,"column":356},"end":{"line":3,"column":376}},"6":{"start":{"line":5,"column":15},"end":{"line":5,"column":57}},"7":{"start":{"line":7,"column":15},"end":{"line":7,"column":72}},"8":{"start":{"line":9,"column":25},"end":{"line":9,"column":104}},"9":{"start":{"line":11,"column":12},"end":{"line":11,"column":67}},"10":{"start":{"line":13,"column":15},"end":{"line":13,"column":36}},"11":{"start":{"line":15,"column":49},"end":{"line":15,"column":96}},"12":{"start":{"line":15,"column":84},"end":{"line":15,"column":96}},"13":{"start":{"line":15,"column":121},"end":{"line":15,"column":134}},"14":{"start":{"line":15,"column":159},"end":{"line":15,"column":172}},"15":{"start":{"line":15,"column":174},"end":{"line":15,"column":333}},"16":{"start":{"line":15,"column":258},"end":{"line":15,"column":316}},"17":{"start":{"line":17,"column":53},"end":{"line":17,"column":111}},"18":{"start":{"line":17,"column":98},"end":{"line":17,"column":109}},"19":{"start":{"line":17,"column":112},"end":{"line":17,"column":218}},"20":{"start":{"line":17,"column":190},"end":{"line":17,"column":216}},"21":{"start":{"line":17,"column":231},"end":{"line":17,"column":268}},"22":{"start":{"line":17,"column":270},"end":{"line":17,"column":325}},"23":{"start":{"line":17,"column":301},"end":{"line":17,"column":323}},"24":{"start":{"line":17,"column":339},"end":{"line":17,"column":341}},"25":{"start":{"line":17,"column":371},"end":{"line":17,"column":427}},"26":{"start":{"line":17,"column":429},"end":{"line":17,"column":730}},"27":{"start":{"line":17,"column":452},"end":{"line":17,"column":728}},"28":{"start":{"line":17,"column":538},"end":{"line":17,"column":610}},"29":{"start":{"line":17,"column":612},"end":{"line":17,"column":726}},"30":{"start":{"line":17,"column":650},"end":{"line":17,"column":691}},"31":{"start":{"line":17,"column":701},"end":{"line":17,"column":724}},"32":{"start":{"line":17,"column":731},"end":{"line":17,"column":755}},"33":{"start":{"line":17,"column":756},"end":{"line":17,"column":794}},"34":{"start":{"line":17,"column":769},"end":{"line":17,"column":792}},"35":{"start":{"line":17,"column":795},"end":{"line":17,"column":809}},"36":{"start":{"line":19,"column":39},"end":{"line":19,"column":95}},"37":{"start":{"line":21,"column":13},"end":{"line":21,"column":41}},"38":{"start":{"line":23,"column":30},"end":{"line":23,"column":83}},"39":{"start":{"line":24,"column":20},"end":{"line":24,"column":53}},"40":{"start":{"line":25,"column":18},"end":{"line":25,"column":49}},"41":{"start":{"line":26,"column":20},"end":{"line":26,"column":53}},"42":{"start":{"line":27,"column":0},"end":{"line":27,"column":121}},"43":{"start":{"line":28,"column":0},"end":{"line":28,"column":40}},"44":{"start":{"line":29,"column":0},"end":{"line":29,"column":49}},"45":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":16}},"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":378}},"line":3},"1":{"name":"_typeof","decl":{"start":{"line":3,"column":145},"end":{"line":3,"column":152}},"loc":{"start":{"line":3,"column":158},"end":{"line":3,"column":180}},"line":3},"2":{"name":"_typeof","decl":{"start":{"line":3,"column":210},"end":{"line":3,"column":217}},"loc":{"start":{"line":3,"column":223},"end":{"line":3,"column":352}},"line":3},"3":{"name":"_getRequireWildcardCache","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":33}},"loc":{"start":{"line":15,"column":47},"end":{"line":15,"column":335}},"line":15},"4":{"name":"_getRequireWildcardCache","decl":{"start":{"line":15,"column":218},"end":{"line":15,"column":242}},"loc":{"start":{"line":15,"column":256},"end":{"line":15,"column":318}},"line":15},"5":{"name":"_interopRequireWildcard","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":32}},"loc":{"start":{"line":17,"column":51},"end":{"line":17,"column":811}},"line":17},"6":{"name":"_interopRequireDefault","decl":{"start":{"line":19,"column":9},"end":{"line":19,"column":31}},"loc":{"start":{"line":19,"column":37},"end":{"line":19,"column":97}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"type":"if","locations":[{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},{"start":{"line":3,"column":51},"end":{"line":3,"column":355}}],"line":3},"1":{"loc":{"start":{"line":3,"column":55},"end":{"line":3,"column":122}},"type":"binary-expr","locations":[{"start":{"line":3,"column":55},"end":{"line":3,"column":83}},{"start":{"line":3,"column":87},"end":{"line":3,"column":122}}],"line":3},"2":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":349}},"type":"cond-expr","locations":[{"start":{"line":3,"column":328},"end":{"line":3,"column":336}},{"start":{"line":3,"column":339},"end":{"line":3,"column":349}}],"line":3},"3":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":325}},"type":"binary-expr","locations":[{"start":{"line":3,"column":232},"end":{"line":3,"column":235}},{"start":{"line":3,"column":239},"end":{"line":3,"column":267}},{"start":{"line":3,"column":271},"end":{"line":3,"column":297}},{"start":{"line":3,"column":301},"end":{"line":3,"column":325}}],"line":3},"4":{"loc":{"start":{"line":15,"column":49},"end":{"line":15,"column":96}},"type":"if","locations":[{"start":{"line":15,"column":49},"end":{"line":15,"column":96}},{"start":{"line":15,"column":49},"end":{"line":15,"column":96}}],"line":15},"5":{"loc":{"start":{"line":15,"column":265},"end":{"line":15,"column":315}},"type":"cond-expr","locations":[{"start":{"line":15,"column":279},"end":{"line":15,"column":295}},{"start":{"line":15,"column":298},"end":{"line":15,"column":315}}],"line":15},"6":{"loc":{"start":{"line":17,"column":53},"end":{"line":17,"column":111}},"type":"if","locations":[{"start":{"line":17,"column":53},"end":{"line":17,"column":111}},{"start":{"line":17,"column":53},"end":{"line":17,"column":111}}],"line":17},"7":{"loc":{"start":{"line":17,"column":57},"end":{"line":17,"column":94}},"type":"binary-expr","locations":[{"start":{"line":17,"column":57},"end":{"line":17,"column":69}},{"start":{"line":17,"column":73},"end":{"line":17,"column":76}},{"start":{"line":17,"column":80},"end":{"line":17,"column":94}}],"line":17},"8":{"loc":{"start":{"line":17,"column":112},"end":{"line":17,"column":218}},"type":"if","locations":[{"start":{"line":17,"column":112},"end":{"line":17,"column":218}},{"start":{"line":17,"column":112},"end":{"line":17,"column":218}}],"line":17},"9":{"loc":{"start":{"line":17,"column":116},"end":{"line":17,"column":186}},"type":"binary-expr","locations":[{"start":{"line":17,"column":116},"end":{"line":17,"column":128}},{"start":{"line":17,"column":132},"end":{"line":17,"column":157}},{"start":{"line":17,"column":161},"end":{"line":17,"column":186}}],"line":17},"10":{"loc":{"start":{"line":17,"column":270},"end":{"line":17,"column":325}},"type":"if","locations":[{"start":{"line":17,"column":270},"end":{"line":17,"column":325}},{"start":{"line":17,"column":270},"end":{"line":17,"column":325}}],"line":17},"11":{"loc":{"start":{"line":17,"column":274},"end":{"line":17,"column":297}},"type":"binary-expr","locations":[{"start":{"line":17,"column":274},"end":{"line":17,"column":279}},{"start":{"line":17,"column":283},"end":{"line":17,"column":297}}],"line":17},"12":{"loc":{"start":{"line":17,"column":371},"end":{"line":17,"column":427}},"type":"binary-expr","locations":[{"start":{"line":17,"column":371},"end":{"line":17,"column":392}},{"start":{"line":17,"column":396},"end":{"line":17,"column":427}}],"line":17},"13":{"loc":{"start":{"line":17,"column":452},"end":{"line":17,"column":728}},"type":"if","locations":[{"start":{"line":17,"column":452},"end":{"line":17,"column":728}},{"start":{"line":17,"column":452},"end":{"line":17,"column":728}}],"line":17},"14":{"loc":{"start":{"line":17,"column":456},"end":{"line":17,"column":523}},"type":"binary-expr","locations":[{"start":{"line":17,"column":456},"end":{"line":17,"column":473}},{"start":{"line":17,"column":477},"end":{"line":17,"column":523}}],"line":17},"15":{"loc":{"start":{"line":17,"column":538},"end":{"line":17,"column":610}},"type":"cond-expr","locations":[{"start":{"line":17,"column":562},"end":{"line":17,"column":603}},{"start":{"line":17,"column":606},"end":{"line":17,"column":610}}],"line":17},"16":{"loc":{"start":{"line":17,"column":612},"end":{"line":17,"column":726}},"type":"if","locations":[{"start":{"line":17,"column":612},"end":{"line":17,"column":726}},{"start":{"line":17,"column":612},"end":{"line":17,"column":726}}],"line":17},"17":{"loc":{"start":{"line":17,"column":616},"end":{"line":17,"column":646}},"type":"binary-expr","locations":[{"start":{"line":17,"column":616},"end":{"line":17,"column":620}},{"start":{"line":17,"column":625},"end":{"line":17,"column":633}},{"start":{"line":17,"column":637},"end":{"line":17,"column":645}}],"line":17},"18":{"loc":{"start":{"line":17,"column":756},"end":{"line":17,"column":794}},"type":"if","locations":[{"start":{"line":17,"column":756},"end":{"line":17,"column":794}},{"start":{"line":17,"column":756},"end":{"line":17,"column":794}}],"line":17},"19":{"loc":{"start":{"line":19,"column":46},"end":{"line":19,"column":94}},"type":"cond-expr","locations":[{"start":{"line":19,"column":70},"end":{"line":19,"column":73}},{"start":{"line":19,"column":76},"end":{"line":19,"column":94}}],"line":19},"20":{"loc":{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},"type":"binary-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":49}},{"start":{"line":19,"column":53},"end":{"line":19,"column":67}}],"line":19}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":3,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":3},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0,0],"4":[0,0],"5":[0,0],"6":[1,0],"7":[1,1,1],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[2,1],"20":[3,3]},"inputSourceMap":{"version":3,"sources":["product.js"],"names":["router","express","Router","createProductValidation","productValidation","createProduct","productController","getProducts","getOneProduct","post","verifyToken","upload","single","get","module","exports"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEA,IAAQC,uBAAR,GAAoCC,6BAApC,CAAQD,uBAAR;AAEA,IAAQE,aAAR,GAAsDC,mBAAtD,CAAQD,aAAR;AAAA,IAAuBE,WAAvB,GAAsDD,mBAAtD,CAAuBC,WAAvB;AAAA,IAAoCC,aAApC,GAAsDF,mBAAtD,CAAoCE,aAApC;AAEAR,MAAM,CAACS,IAAP,CAAY,gBAAZ,EAA8BC,gBAA9B,EAA2CC,gBAAOC,MAAP,CAAc,OAAd,CAA3C,EAAmET,uBAAnE,EAA4FE,aAA5F;AACAL,MAAM,CAACa,GAAP,CAAW,cAAX,EAA2BN,WAA3B;AACAP,MAAM,CAACa,GAAP,CAAW,qBAAX,EAAkCL,aAAlC;AAEAM,MAAM,CAACC,OAAP,GAAiBf,MAAjB","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\routers\\","sourcesContent":["import express from 'express';\r\nimport productController from '../controllers/product';\r\nimport productValidation from '../middlewares/validations/productValidation';\r\nimport verifyToken, {verifyAsUser, verifyAsAdmin} from '../middlewares/auth';\r\nimport { upload } from '../storage';\r\n\r\nconst router = express.Router();\r\n\r\nconst { createProductValidation } = productValidation;\r\n\r\nconst { createProduct, getProducts, getOneProduct } = productController;\r\n\r\nrouter.post('/createProduct', verifyToken, upload.single('image'), createProductValidation, createProduct);\r\nrouter.get('/getProducts', getProducts);\r\nrouter.get('/product/:productId', getOneProduct);\r\n\r\nmodule.exports = router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5f122bea42676075d8bb8f1b83fbc9bbf05c8f0f","contentHash":"3407b88c2b9719a8e58aeae44eff4fad98d4ea8a4dd1e6f25c8b27ecb560cd72"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\product.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\product.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":66}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":54},"end":{"line":12,"column":73}},"5":{"start":{"line":12,"column":75},"end":{"line":12,"column":330}},"6":{"start":{"line":12,"column":125},"end":{"line":12,"column":161}},"7":{"start":{"line":12,"column":163},"end":{"line":12,"column":296}},"8":{"start":{"line":12,"column":185},"end":{"line":12,"column":294}},"9":{"start":{"line":12,"column":227},"end":{"line":12,"column":290}},"10":{"start":{"line":12,"column":297},"end":{"line":12,"column":328}},"11":{"start":{"line":12,"column":331},"end":{"line":12,"column":343}},"12":{"start":{"line":14,"column":33},"end":{"line":14,"column":517}},"13":{"start":{"line":14,"column":46},"end":{"line":14,"column":47}},"14":{"start":{"line":14,"column":91},"end":{"line":14,"column":131}},"15":{"start":{"line":14,"column":133},"end":{"line":14,"column":515}},"16":{"start":{"line":14,"column":146},"end":{"line":14,"column":247}},"17":{"start":{"line":14,"column":201},"end":{"line":14,"column":243}},"18":{"start":{"line":14,"column":255},"end":{"line":14,"column":515}},"19":{"start":{"line":14,"column":295},"end":{"line":14,"column":369}},"20":{"start":{"line":14,"column":379},"end":{"line":14,"column":513}},"21":{"start":{"line":14,"column":428},"end":{"line":14,"column":509}},"22":{"start":{"line":14,"column":518},"end":{"line":14,"column":532}},"23":{"start":{"line":16,"column":44},"end":{"line":16,"column":195}},"24":{"start":{"line":16,"column":62},"end":{"line":16,"column":166}},"25":{"start":{"line":16,"column":176},"end":{"line":16,"column":193}},"26":{"start":{"line":16,"column":196},"end":{"line":16,"column":207}},"27":{"start":{"line":18,"column":77},"end":{"line":18,"column":175}},"28":{"start":{"line":18,"column":94},"end":{"line":18,"column":107}},"29":{"start":{"line":18,"column":121},"end":{"line":18,"column":131}},"30":{"start":{"line":18,"column":151},"end":{"line":18,"column":165}},"31":{"start":{"line":18,"column":166},"end":{"line":18,"column":173}},"32":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"33":{"start":{"line":18,"column":193},"end":{"line":18,"column":208}},"34":{"start":{"line":18,"column":218},"end":{"line":18,"column":261}},"35":{"start":{"line":20,"column":33},"end":{"line":20,"column":387}},"36":{"start":{"line":20,"column":65},"end":{"line":20,"column":69}},"37":{"start":{"line":20,"column":78},"end":{"line":20,"column":87}},"38":{"start":{"line":20,"column":89},"end":{"line":20,"column":384}},"39":{"start":{"line":20,"column":147},"end":{"line":20,"column":167}},"40":{"start":{"line":20,"column":193},"end":{"line":20,"column":264}},"41":{"start":{"line":20,"column":290},"end":{"line":20,"column":360}},"42":{"start":{"line":20,"column":363},"end":{"line":20,"column":380}},"43":{"start":{"line":22,"column":24},"end":{"line":151,"column":1}},"44":{"start":{"line":24,"column":25},"end":{"line":58,"column":7}},"45":{"start":{"line":26,"column":6},"end":{"line":57,"column":34}},"46":{"start":{"line":27,"column":8},"end":{"line":56,"column":9}},"47":{"start":{"line":28,"column":10},"end":{"line":55,"column":11}},"48":{"start":{"line":30,"column":14},"end":{"line":30,"column":32}},"49":{"start":{"line":31,"column":14},"end":{"line":31,"column":32}},"50":{"start":{"line":32,"column":14},"end":{"line":34,"column":18}},"51":{"start":{"line":37,"column":14},"end":{"line":37,"column":41}},"52":{"start":{"line":38,"column":14},"end":{"line":38,"column":38}},"53":{"start":{"line":39,"column":14},"end":{"line":39,"column":31}},"54":{"start":{"line":40,"column":14},"end":{"line":40,"column":81}},"55":{"start":{"line":43,"column":14},"end":{"line":43,"column":32}},"56":{"start":{"line":44,"column":14},"end":{"line":44,"column":49}},"57":{"start":{"line":45,"column":14},"end":{"line":47,"column":18}},"58":{"start":{"line":50,"column":14},"end":{"line":50,"column":21}},"59":{"start":{"line":54,"column":14},"end":{"line":54,"column":37}},"60":{"start":{"line":61,"column":6},"end":{"line":61,"column":51}},"61":{"start":{"line":64,"column":4},"end":{"line":64,"column":25}},"62":{"start":{"line":67,"column":23},"end":{"line":95,"column":7}},"63":{"start":{"line":69,"column":6},"end":{"line":94,"column":35}},"64":{"start":{"line":70,"column":8},"end":{"line":93,"column":9}},"65":{"start":{"line":71,"column":10},"end":{"line":92,"column":11}},"66":{"start":{"line":73,"column":14},"end":{"line":73,"column":33}},"67":{"start":{"line":74,"column":14},"end":{"line":74,"column":33}},"68":{"start":{"line":75,"column":14},"end":{"line":75,"column":58}},"69":{"start":{"line":78,"column":14},"end":{"line":78,"column":40}},"70":{"start":{"line":79,"column":14},"end":{"line":79,"column":80}},"71":{"start":{"line":82,"column":14},"end":{"line":82,"column":33}},"72":{"start":{"line":83,"column":14},"end":{"line":83,"column":51}},"73":{"start":{"line":84,"column":14},"end":{"line":84,"column":40}},"74":{"start":{"line":85,"column":14},"end":{"line":87,"column":18}},"75":{"start":{"line":91,"column":14},"end":{"line":91,"column":38}},"76":{"start":{"line":98,"column":6},"end":{"line":98,"column":49}},"77":{"start":{"line":101,"column":4},"end":{"line":101,"column":23}},"78":{"start":{"line":104,"column":25},"end":{"line":143,"column":7}},"79":{"start":{"line":106,"column":6},"end":{"line":142,"column":35}},"80":{"start":{"line":107,"column":8},"end":{"line":141,"column":9}},"81":{"start":{"line":108,"column":10},"end":{"line":140,"column":11}},"82":{"start":{"line":110,"column":14},"end":{"line":110,"column":33}},"83":{"start":{"line":111,"column":14},"end":{"line":111,"column":33}},"84":{"start":{"line":112,"column":14},"end":{"line":112,"column":71}},"85":{"start":{"line":115,"column":14},"end":{"line":115,"column":44}},"86":{"start":{"line":117,"column":14},"end":{"line":120,"column":15}},"87":{"start":{"line":118,"column":16},"end":{"line":118,"column":35}},"88":{"start":{"line":119,"column":16},"end":{"line":119,"column":22}},"89":{"start":{"line":122,"column":14},"end":{"line":124,"column":18}},"90":{"start":{"line":127,"column":14},"end":{"line":127,"column":84}},"91":{"start":{"line":130,"column":14},"end":{"line":130,"column":33}},"92":{"start":{"line":131,"column":14},"end":{"line":131,"column":51}},"93":{"start":{"line":132,"column":14},"end":{"line":135,"column":18}},"94":{"start":{"line":139,"column":14},"end":{"line":139,"column":38}},"95":{"start":{"line":146,"column":6},"end":{"line":146,"column":51}},"96":{"start":{"line":149,"column":4},"end":{"line":149,"column":25}},"97":{"start":{"line":152,"column":15},"end":{"line":152,"column":32}},"98":{"start":{"line":153,"column":0},"end":{"line":153,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"ownKeys","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":345}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":210},"end":{"line":12,"column":211}},"loc":{"start":{"line":12,"column":225},"end":{"line":12,"column":292}},"line":12},"3":{"name":"_objectSpread","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":22}},"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":534}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":184},"end":{"line":14,"column":185}},"loc":{"start":{"line":14,"column":199},"end":{"line":14,"column":245}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":411},"end":{"line":14,"column":412}},"loc":{"start":{"line":14,"column":426},"end":{"line":14,"column":511}},"line":14},"6":{"name":"_defineProperty","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":42},"end":{"line":16,"column":209}},"line":16},"7":{"name":"asyncGeneratorStep","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":75},"end":{"line":18,"column":265}},"line":18},"8":{"name":"_asyncToGenerator","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":31},"end":{"line":20,"column":389}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":40},"end":{"line":20,"column":41}},"loc":{"start":{"line":20,"column":52},"end":{"line":20,"column":386}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":108},"end":{"line":20,"column":109}},"loc":{"start":{"line":20,"column":135},"end":{"line":20,"column":382}},"line":20},"11":{"name":"_next","decl":{"start":{"line":20,"column":178},"end":{"line":20,"column":183}},"loc":{"start":{"line":20,"column":191},"end":{"line":20,"column":266}},"line":20},"12":{"name":"_throw","decl":{"start":{"line":20,"column":276},"end":{"line":20,"column":282}},"loc":{"start":{"line":20,"column":288},"end":{"line":20,"column":362}},"line":20},"13":{"name":"(anonymous_13)","decl":{"start":{"line":23,"column":17},"end":{"line":23,"column":18}},"loc":{"start":{"line":23,"column":29},"end":{"line":65,"column":3}},"line":23},"14":{"name":"_callee","decl":{"start":{"line":24,"column":90},"end":{"line":24,"column":97}},"loc":{"start":{"line":24,"column":114},"end":{"line":58,"column":5}},"line":24},"15":{"name":"_callee$","decl":{"start":{"line":26,"column":46},"end":{"line":26,"column":54}},"loc":{"start":{"line":26,"column":65},"end":{"line":57,"column":7}},"line":26},"16":{"name":"createProduct","decl":{"start":{"line":60,"column":13},"end":{"line":60,"column":26}},"loc":{"start":{"line":60,"column":41},"end":{"line":62,"column":5}},"line":60},"17":{"name":"(anonymous_17)","decl":{"start":{"line":66,"column":15},"end":{"line":66,"column":16}},"loc":{"start":{"line":66,"column":27},"end":{"line":102,"column":3}},"line":66},"18":{"name":"_callee2","decl":{"start":{"line":67,"column":88},"end":{"line":67,"column":96}},"loc":{"start":{"line":67,"column":107},"end":{"line":95,"column":5}},"line":67},"19":{"name":"_callee2$","decl":{"start":{"line":69,"column":46},"end":{"line":69,"column":55}},"loc":{"start":{"line":69,"column":67},"end":{"line":94,"column":7}},"line":69},"20":{"name":"getProducts","decl":{"start":{"line":97,"column":13},"end":{"line":97,"column":24}},"loc":{"start":{"line":97,"column":35},"end":{"line":99,"column":5}},"line":97},"21":{"name":"(anonymous_21)","decl":{"start":{"line":103,"column":17},"end":{"line":103,"column":18}},"loc":{"start":{"line":103,"column":29},"end":{"line":150,"column":3}},"line":103},"22":{"name":"_callee3","decl":{"start":{"line":104,"column":90},"end":{"line":104,"column":98}},"loc":{"start":{"line":104,"column":109},"end":{"line":143,"column":5}},"line":104},"23":{"name":"_callee3$","decl":{"start":{"line":106,"column":46},"end":{"line":106,"column":55}},"loc":{"start":{"line":106,"column":67},"end":{"line":142,"column":7}},"line":106},"24":{"name":"getOneProduct","decl":{"start":{"line":145,"column":13},"end":{"line":145,"column":26}},"loc":{"start":{"line":145,"column":37},"end":{"line":147,"column":5}},"line":145}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":12,"column":75},"end":{"line":12,"column":330}},"type":"if","locations":[{"start":{"line":12,"column":75},"end":{"line":12,"column":330}},{"start":{"line":12,"column":75},"end":{"line":12,"column":330}}],"line":12},"3":{"loc":{"start":{"line":12,"column":163},"end":{"line":12,"column":296}},"type":"if","locations":[{"start":{"line":12,"column":163},"end":{"line":12,"column":296}},{"start":{"line":12,"column":163},"end":{"line":12,"column":296}}],"line":12},"4":{"loc":{"start":{"line":14,"column":91},"end":{"line":14,"column":131}},"type":"cond-expr","locations":[{"start":{"line":14,"column":114},"end":{"line":14,"column":126}},{"start":{"line":14,"column":129},"end":{"line":14,"column":131}}],"line":14},"5":{"loc":{"start":{"line":14,"column":133},"end":{"line":14,"column":515}},"type":"if","locations":[{"start":{"line":14,"column":133},"end":{"line":14,"column":515}},{"start":{"line":14,"column":133},"end":{"line":14,"column":515}}],"line":14},"6":{"loc":{"start":{"line":14,"column":255},"end":{"line":14,"column":515}},"type":"if","locations":[{"start":{"line":14,"column":255},"end":{"line":14,"column":515}},{"start":{"line":14,"column":255},"end":{"line":14,"column":515}}],"line":14},"7":{"loc":{"start":{"line":16,"column":44},"end":{"line":16,"column":195}},"type":"if","locations":[{"start":{"line":16,"column":44},"end":{"line":16,"column":195}},{"start":{"line":16,"column":44},"end":{"line":16,"column":195}}],"line":16},"8":{"loc":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"type":"if","locations":[{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},{"start":{"line":18,"column":176},"end":{"line":18,"column":263}}],"line":18},"9":{"loc":{"start":{"line":28,"column":10},"end":{"line":55,"column":11}},"type":"switch","locations":[{"start":{"line":29,"column":12},"end":{"line":34,"column":18}},{"start":{"line":36,"column":12},"end":{"line":40,"column":81}},{"start":{"line":42,"column":12},"end":{"line":47,"column":18}},{"start":{"line":49,"column":12},"end":{"line":50,"column":21}},{"start":{"line":52,"column":12},"end":{"line":52,"column":20}},{"start":{"line":53,"column":12},"end":{"line":54,"column":37}}],"line":28},"10":{"loc":{"start":{"line":71,"column":10},"end":{"line":92,"column":11}},"type":"switch","locations":[{"start":{"line":72,"column":12},"end":{"line":75,"column":58}},{"start":{"line":77,"column":12},"end":{"line":79,"column":80}},{"start":{"line":81,"column":12},"end":{"line":87,"column":18}},{"start":{"line":89,"column":12},"end":{"line":89,"column":20}},{"start":{"line":90,"column":12},"end":{"line":91,"column":38}}],"line":71},"11":{"loc":{"start":{"line":108,"column":10},"end":{"line":140,"column":11}},"type":"switch","locations":[{"start":{"line":109,"column":12},"end":{"line":112,"column":71}},{"start":{"line":114,"column":12},"end":{"line":124,"column":18}},{"start":{"line":126,"column":12},"end":{"line":127,"column":84}},{"start":{"line":129,"column":12},"end":{"line":135,"column":18}},{"start":{"line":137,"column":12},"end":{"line":137,"column":20}},{"start":{"line":138,"column":12},"end":{"line":139,"column":38}}],"line":108},"12":{"loc":{"start":{"line":117,"column":14},"end":{"line":120,"column":15}},"type":"if","locations":[{"start":{"line":117,"column":14},"end":{"line":120,"column":15}},{"start":{"line":117,"column":14},"end":{"line":120,"column":15}}],"line":117}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":3,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":1,"98":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":3,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0,0,0,0],"10":[0,0,0,0,0],"11":[0,0,0,0,0,0],"12":[0,0]},"inputSourceMap":{"version":3,"sources":["product.js"],"names":["productController","createProduct","req","res","next","Product","create","body","image","file","path","newProduct","console","log","status","json","error","getProducts","getAllProducts","products","getOneProduct","getById","params","productId","foundProduct","stack"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;AAEA,IAAMA,iBAAiB,GAAG;AACtBC,EAAAA,aAAa;AAAA,iFAAE,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEkBC,oBAAQC,MAAR,iCAAmBJ,GAAG,CAACK,IAAvB;AAA6BC,gBAAAA,KAAK,EAAEN,GAAG,CAACO,IAAJ,CAASC;AAA7C,iBAFlB;;AAAA;AAEDC,cAAAA,UAFC;AAGPC,cAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ;AAJO,+CAKAC,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBJ,UAArB,CALA;;AAAA;AAAA;AAAA;AAAA,+CAOAR,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAArB,CAPA;;AAAA;AASXZ,cAAAA,IAAI;;AATO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADS;AAatBa,EAAAA,WAAW;AAAA,+EAAE,kBAAOf,GAAP,EAAWC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEkBE,oBAAQa,cAAR,EAFlB;;AAAA;AAECC,cAAAA,QAFD;AAAA,gDAGEhB,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,QAArB,CAHF;;AAAA;AAAA;AAAA;AAKLP,cAAAA,OAAO,CAACC,GAAR;AALK,gDAMEV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAArB,CANF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAbW;AAuBtBI,EAAAA,aAAa;AAAA,iFAAE,kBAAOlB,GAAP,EAAWC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEoBE,oBAAQgB,OAAR,CAAgBnB,GAAG,CAACoB,MAAJ,CAAWC,SAA3B,CAFpB;;AAAA;AAEDC,cAAAA,YAFC;;AAAA,kBAGFA,YAHE;AAAA;AAAA;AAAA;;AAAA,gDAIIrB,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAArB,CAJJ;;AAAA;AAAA,gDAMAb,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBS,YAArB,CANA;;AAAA;AAAA;AAAA;AAAA,gDAQArB,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAE,uBAAR;AAAiCS,gBAAAA,KAAK;AAAtC,eAArB,CARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAvBS,CAA1B;eAoCezB,iB","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\controllers\\","sourcesContent":["import Product from '../model/Product';\r\n\r\nconst productController = {\r\n    createProduct: async (req, res, next) => {\r\n        try {\r\n            const newProduct = await Product.create({...req.body, image: req.file.path})\r\n            console.log(newProduct)\r\n            console.log(req)\r\n            return res.status(200).json(newProduct)\r\n        } catch (error) {\r\n            return res.status(500).json({error: 'internal server eror'})\r\n        }\r\n        next()\r\n    },\r\n\r\n    getProducts: async (req,res)=> {\r\n        try {\r\n            const products = await Product.getAllProducts()\r\n            return res.status(200).json(products)\r\n        } catch (error) {\r\n            console.log(error)\r\n            return res.status(500).json({error: 'internal server eror'})\r\n        }\r\n    },\r\n\r\n    getOneProduct: async (req,res)=> {\r\n        try {\r\n            const foundProduct = await Product.getById(req.params.productId)\r\n            if (!foundProduct) {\r\n                return res.status(404).json({error: 'product not found'})\r\n            }\r\n            return res.status(200).json(foundProduct)\r\n        } catch (error) {\r\n            return res.status(500).json({error: 'internal server error', stack: error})\r\n        }\r\n    }\r\n}\r\n\r\nexport default productController;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1a7b670bd3ad9432150cf81d0642033e0a789599","contentHash":"0ef4f3018f699d0ca5508f186ecc9023db72e05d24b8acf40c4aad2848a71abc"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\model\\Product.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\model\\Product.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":50}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":77},"end":{"line":14,"column":175}},"6":{"start":{"line":14,"column":94},"end":{"line":14,"column":107}},"7":{"start":{"line":14,"column":121},"end":{"line":14,"column":131}},"8":{"start":{"line":14,"column":151},"end":{"line":14,"column":165}},"9":{"start":{"line":14,"column":166},"end":{"line":14,"column":173}},"10":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"11":{"start":{"line":14,"column":193},"end":{"line":14,"column":208}},"12":{"start":{"line":14,"column":218},"end":{"line":14,"column":261}},"13":{"start":{"line":16,"column":33},"end":{"line":16,"column":387}},"14":{"start":{"line":16,"column":65},"end":{"line":16,"column":69}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":87}},"16":{"start":{"line":16,"column":89},"end":{"line":16,"column":384}},"17":{"start":{"line":16,"column":147},"end":{"line":16,"column":167}},"18":{"start":{"line":16,"column":193},"end":{"line":16,"column":264}},"19":{"start":{"line":16,"column":290},"end":{"line":16,"column":360}},"20":{"start":{"line":16,"column":363},"end":{"line":16,"column":380}},"21":{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},"22":{"start":{"line":18,"column":92},"end":{"line":18,"column":149}},"23":{"start":{"line":20,"column":44},"end":{"line":20,"column":315}},"24":{"start":{"line":20,"column":57},"end":{"line":20,"column":58}},"25":{"start":{"line":20,"column":102},"end":{"line":20,"column":110}},"26":{"start":{"line":20,"column":112},"end":{"line":20,"column":167}},"27":{"start":{"line":20,"column":168},"end":{"line":20,"column":199}},"28":{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},"29":{"start":{"line":20,"column":227},"end":{"line":20,"column":254}},"30":{"start":{"line":20,"column":255},"end":{"line":20,"column":313}},"31":{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},"32":{"start":{"line":22,"column":78},"end":{"line":22,"column":131}},"33":{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},"34":{"start":{"line":22,"column":149},"end":{"line":22,"column":193}},"35":{"start":{"line":22,"column":194},"end":{"line":22,"column":213}},"36":{"start":{"line":24,"column":27},"end":{"line":198,"column":3}},"37":{"start":{"line":26,"column":4},"end":{"line":26,"column":35}},"38":{"start":{"line":29,"column":2},"end":{"line":195,"column":6}},"39":{"start":{"line":32,"column":20},"end":{"line":61,"column":9}},"40":{"start":{"line":35,"column":8},"end":{"line":60,"column":37}},"41":{"start":{"line":36,"column":10},"end":{"line":59,"column":11}},"42":{"start":{"line":37,"column":12},"end":{"line":58,"column":13}},"43":{"start":{"line":39,"column":16},"end":{"line":39,"column":336}},"44":{"start":{"line":40,"column":16},"end":{"line":40,"column":137}},"45":{"start":{"line":41,"column":16},"end":{"line":41,"column":34}},"46":{"start":{"line":42,"column":16},"end":{"line":42,"column":34}},"47":{"start":{"line":43,"column":16},"end":{"line":43,"column":67}},"48":{"start":{"line":46,"column":16},"end":{"line":46,"column":48}},"49":{"start":{"line":47,"column":16},"end":{"line":47,"column":44}},"50":{"start":{"line":48,"column":16},"end":{"line":48,"column":58}},"51":{"start":{"line":51,"column":16},"end":{"line":51,"column":35}},"52":{"start":{"line":52,"column":16},"end":{"line":52,"column":51}},"53":{"start":{"line":53,"column":16},"end":{"line":53,"column":62}},"54":{"start":{"line":57,"column":16},"end":{"line":57,"column":39}},"55":{"start":{"line":64,"column":8},"end":{"line":64,"column":46}},"56":{"start":{"line":67,"column":6},"end":{"line":67,"column":20}},"57":{"start":{"line":72,"column":21},"end":{"line":103,"column":9}},"58":{"start":{"line":75,"column":8},"end":{"line":102,"column":37}},"59":{"start":{"line":76,"column":10},"end":{"line":101,"column":11}},"60":{"start":{"line":77,"column":12},"end":{"line":100,"column":13}},"61":{"start":{"line":79,"column":16},"end":{"line":79,"column":62}},"62":{"start":{"line":80,"column":16},"end":{"line":80,"column":35}},"63":{"start":{"line":81,"column":16},"end":{"line":81,"column":35}},"64":{"start":{"line":82,"column":16},"end":{"line":82,"column":56}},"65":{"start":{"line":85,"column":16},"end":{"line":85,"column":50}},"66":{"start":{"line":86,"column":16},"end":{"line":86,"column":45}},"67":{"start":{"line":87,"column":16},"end":{"line":87,"column":59}},"68":{"start":{"line":90,"column":16},"end":{"line":90,"column":35}},"69":{"start":{"line":91,"column":16},"end":{"line":91,"column":53}},"70":{"start":{"line":93,"column":16},"end":{"line":93,"column":54}},"71":{"start":{"line":95,"column":16},"end":{"line":95,"column":64}},"72":{"start":{"line":99,"column":16},"end":{"line":99,"column":40}},"73":{"start":{"line":106,"column":8},"end":{"line":106,"column":47}},"74":{"start":{"line":109,"column":6},"end":{"line":109,"column":21}},"75":{"start":{"line":114,"column":24},"end":{"line":145,"column":9}},"76":{"start":{"line":117,"column":8},"end":{"line":144,"column":37}},"77":{"start":{"line":118,"column":10},"end":{"line":143,"column":11}},"78":{"start":{"line":119,"column":12},"end":{"line":142,"column":13}},"79":{"start":{"line":121,"column":16},"end":{"line":121,"column":82}},"80":{"start":{"line":122,"column":16},"end":{"line":122,"column":35}},"81":{"start":{"line":123,"column":16},"end":{"line":123,"column":35}},"82":{"start":{"line":124,"column":16},"end":{"line":124,"column":59}},"83":{"start":{"line":127,"column":16},"end":{"line":127,"column":50}},"84":{"start":{"line":128,"column":16},"end":{"line":128,"column":45}},"85":{"start":{"line":129,"column":16},"end":{"line":129,"column":59}},"86":{"start":{"line":132,"column":16},"end":{"line":132,"column":35}},"87":{"start":{"line":133,"column":16},"end":{"line":133,"column":53}},"88":{"start":{"line":135,"column":16},"end":{"line":135,"column":54}},"89":{"start":{"line":137,"column":16},"end":{"line":137,"column":64}},"90":{"start":{"line":141,"column":16},"end":{"line":141,"column":40}},"91":{"start":{"line":148,"column":8},"end":{"line":148,"column":50}},"92":{"start":{"line":151,"column":6},"end":{"line":151,"column":24}},"93":{"start":{"line":156,"column":28},"end":{"line":187,"column":9}},"94":{"start":{"line":159,"column":8},"end":{"line":186,"column":37}},"95":{"start":{"line":160,"column":10},"end":{"line":185,"column":11}},"96":{"start":{"line":161,"column":12},"end":{"line":184,"column":13}},"97":{"start":{"line":163,"column":16},"end":{"line":163,"column":48}},"98":{"start":{"line":164,"column":16},"end":{"line":164,"column":35}},"99":{"start":{"line":165,"column":16},"end":{"line":165,"column":35}},"100":{"start":{"line":166,"column":16},"end":{"line":166,"column":50}},"101":{"start":{"line":169,"column":16},"end":{"line":169,"column":50}},"102":{"start":{"line":170,"column":16},"end":{"line":170,"column":45}},"103":{"start":{"line":171,"column":16},"end":{"line":171,"column":56}},"104":{"start":{"line":174,"column":16},"end":{"line":174,"column":35}},"105":{"start":{"line":175,"column":16},"end":{"line":175,"column":53}},"106":{"start":{"line":177,"column":16},"end":{"line":177,"column":54}},"107":{"start":{"line":179,"column":16},"end":{"line":179,"column":64}},"108":{"start":{"line":183,"column":16},"end":{"line":183,"column":40}},"109":{"start":{"line":190,"column":8},"end":{"line":190,"column":54}},"110":{"start":{"line":193,"column":6},"end":{"line":193,"column":28}},"111":{"start":{"line":197,"column":2},"end":{"line":197,"column":17}},"112":{"start":{"line":200,"column":15},"end":{"line":200,"column":28}},"113":{"start":{"line":202,"column":0},"end":{"line":202,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":265}},"line":14},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":389}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":40},"end":{"line":16,"column":41}},"loc":{"start":{"line":16,"column":52},"end":{"line":16,"column":386}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":108},"end":{"line":16,"column":109}},"loc":{"start":{"line":16,"column":135},"end":{"line":16,"column":382}},"line":16},"5":{"name":"_next","decl":{"start":{"line":16,"column":178},"end":{"line":16,"column":183}},"loc":{"start":{"line":16,"column":191},"end":{"line":16,"column":266}},"line":16},"6":{"name":"_throw","decl":{"start":{"line":16,"column":276},"end":{"line":16,"column":282}},"loc":{"start":{"line":16,"column":288},"end":{"line":16,"column":362}},"line":16},"7":{"name":"_classCallCheck","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":48},"end":{"line":18,"column":153}},"line":18},"8":{"name":"_defineProperties","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":42},"end":{"line":20,"column":317}},"line":20},"9":{"name":"_createClass","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":21}},"loc":{"start":{"line":22,"column":60},"end":{"line":22,"column":215}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":24,"column":27},"end":{"line":24,"column":28}},"loc":{"start":{"line":24,"column":39},"end":{"line":198,"column":1}},"line":24},"11":{"name":"Product","decl":{"start":{"line":25,"column":11},"end":{"line":25,"column":18}},"loc":{"start":{"line":25,"column":21},"end":{"line":27,"column":3}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":11},"end":{"line":31,"column":12}},"loc":{"start":{"line":31,"column":23},"end":{"line":68,"column":5}},"line":31},"13":{"name":"_callee","decl":{"start":{"line":32,"column":85},"end":{"line":32,"column":92}},"loc":{"start":{"line":32,"column":99},"end":{"line":61,"column":7}},"line":32},"14":{"name":"_callee$","decl":{"start":{"line":35,"column":48},"end":{"line":35,"column":56}},"loc":{"start":{"line":35,"column":67},"end":{"line":60,"column":9}},"line":35},"15":{"name":"create","decl":{"start":{"line":63,"column":15},"end":{"line":63,"column":21}},"loc":{"start":{"line":63,"column":26},"end":{"line":65,"column":7}},"line":63},"16":{"name":"(anonymous_16)","decl":{"start":{"line":71,"column":11},"end":{"line":71,"column":12}},"loc":{"start":{"line":71,"column":23},"end":{"line":110,"column":5}},"line":71},"17":{"name":"_callee2","decl":{"start":{"line":72,"column":86},"end":{"line":72,"column":94}},"loc":{"start":{"line":72,"column":99},"end":{"line":103,"column":7}},"line":72},"18":{"name":"_callee2$","decl":{"start":{"line":75,"column":48},"end":{"line":75,"column":57}},"loc":{"start":{"line":75,"column":69},"end":{"line":102,"column":9}},"line":75},"19":{"name":"getById","decl":{"start":{"line":105,"column":15},"end":{"line":105,"column":22}},"loc":{"start":{"line":105,"column":28},"end":{"line":107,"column":7}},"line":105},"20":{"name":"(anonymous_20)","decl":{"start":{"line":113,"column":11},"end":{"line":113,"column":12}},"loc":{"start":{"line":113,"column":23},"end":{"line":152,"column":5}},"line":113},"21":{"name":"_callee3","decl":{"start":{"line":114,"column":89},"end":{"line":114,"column":97}},"loc":{"start":{"line":114,"column":112},"end":{"line":145,"column":7}},"line":114},"22":{"name":"_callee3$","decl":{"start":{"line":117,"column":48},"end":{"line":117,"column":57}},"loc":{"start":{"line":117,"column":69},"end":{"line":144,"column":9}},"line":117},"23":{"name":"getByField","decl":{"start":{"line":147,"column":15},"end":{"line":147,"column":25}},"loc":{"start":{"line":147,"column":36},"end":{"line":149,"column":7}},"line":147},"24":{"name":"(anonymous_24)","decl":{"start":{"line":155,"column":11},"end":{"line":155,"column":12}},"loc":{"start":{"line":155,"column":23},"end":{"line":194,"column":5}},"line":155},"25":{"name":"_callee4","decl":{"start":{"line":156,"column":93},"end":{"line":156,"column":101}},"loc":{"start":{"line":156,"column":104},"end":{"line":187,"column":7}},"line":156},"26":{"name":"_callee4$","decl":{"start":{"line":159,"column":48},"end":{"line":159,"column":57}},"loc":{"start":{"line":159,"column":69},"end":{"line":186,"column":9}},"line":159},"27":{"name":"getAllProducts","decl":{"start":{"line":189,"column":15},"end":{"line":189,"column":29}},"loc":{"start":{"line":189,"column":32},"end":{"line":191,"column":7}},"line":189}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"type":"if","locations":[{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},{"start":{"line":14,"column":176},"end":{"line":14,"column":263}}],"line":14},"3":{"loc":{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},"type":"if","locations":[{"start":{"line":18,"column":50},"end":{"line":18,"column":151}},{"start":{"line":18,"column":50},"end":{"line":18,"column":151}}],"line":18},"4":{"loc":{"start":{"line":20,"column":136},"end":{"line":20,"column":166}},"type":"binary-expr","locations":[{"start":{"line":20,"column":136},"end":{"line":20,"column":157}},{"start":{"line":20,"column":161},"end":{"line":20,"column":166}}],"line":20},"5":{"loc":{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},"type":"if","locations":[{"start":{"line":20,"column":200},"end":{"line":20,"column":254}},{"start":{"line":20,"column":200},"end":{"line":20,"column":254}}],"line":20},"6":{"loc":{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},"type":"if","locations":[{"start":{"line":22,"column":62},"end":{"line":22,"column":131}},{"start":{"line":22,"column":62},"end":{"line":22,"column":131}}],"line":22},"7":{"loc":{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},"type":"if","locations":[{"start":{"line":22,"column":132},"end":{"line":22,"column":193}},{"start":{"line":22,"column":132},"end":{"line":22,"column":193}}],"line":22},"8":{"loc":{"start":{"line":37,"column":12},"end":{"line":58,"column":13}},"type":"switch","locations":[{"start":{"line":38,"column":14},"end":{"line":43,"column":67}},{"start":{"line":45,"column":14},"end":{"line":48,"column":58}},{"start":{"line":50,"column":14},"end":{"line":53,"column":62}},{"start":{"line":55,"column":14},"end":{"line":55,"column":22}},{"start":{"line":56,"column":14},"end":{"line":57,"column":39}}],"line":37},"9":{"loc":{"start":{"line":77,"column":12},"end":{"line":100,"column":13}},"type":"switch","locations":[{"start":{"line":78,"column":14},"end":{"line":82,"column":56}},{"start":{"line":84,"column":14},"end":{"line":87,"column":59}},{"start":{"line":89,"column":14},"end":{"line":95,"column":64}},{"start":{"line":97,"column":14},"end":{"line":97,"column":22}},{"start":{"line":98,"column":14},"end":{"line":99,"column":40}}],"line":77},"10":{"loc":{"start":{"line":119,"column":12},"end":{"line":142,"column":13}},"type":"switch","locations":[{"start":{"line":120,"column":14},"end":{"line":124,"column":59}},{"start":{"line":126,"column":14},"end":{"line":129,"column":59}},{"start":{"line":131,"column":14},"end":{"line":137,"column":64}},{"start":{"line":139,"column":14},"end":{"line":139,"column":22}},{"start":{"line":140,"column":14},"end":{"line":141,"column":40}}],"line":119},"11":{"loc":{"start":{"line":161,"column":12},"end":{"line":184,"column":13}},"type":"switch","locations":[{"start":{"line":162,"column":14},"end":{"line":166,"column":50}},{"start":{"line":168,"column":14},"end":{"line":171,"column":56}},{"start":{"line":173,"column":14},"end":{"line":179,"column":64}},{"start":{"line":181,"column":14},"end":{"line":181,"column":22}},{"start":{"line":182,"column":14},"end":{"line":183,"column":40}}],"line":161}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":4,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":1,"25":4,"26":4,"27":4,"28":4,"29":4,"30":4,"31":1,"32":1,"33":1,"34":0,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":1,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":1,"111":1,"112":1,"113":1},"f":{"0":2,"1":0,"2":4,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0},"b":{"0":[2,0],"1":[2,2],"2":[0,0],"3":[0,1],"4":[4,4],"5":[4,0],"6":[1,0],"7":[0,1],"8":[0,0,0,0,0],"9":[0,0,0,0,0],"10":[0,0,0,0,0],"11":[0,0,0,0,0]},"inputSourceMap":{"version":3,"sources":["Product.js"],"names":["Product","data","createProduct","values","title","price","description","quantity","status","count","producedBy","image","db","query","rows","id","text","logger","info","field","value"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;IAEMA,O;;;;;;;;4EACF,iBAAaC,IAAb;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUC,gBAAAA,aADV;AAaUC,gBAAAA,MAbV,GAamB,CACXF,IAAI,CAACG,KADM,EAEXH,IAAI,CAACI,KAFM,EAGXJ,IAAI,CAACK,WAHM,EAIXL,IAAI,CAACM,QAJM,EAKXN,IAAI,CAACO,MALM,EAMXP,IAAI,CAACQ,KANM,EAOXR,IAAI,CAACS,UAPM,EAQXT,IAAI,CAACU,KARM,CAbnB;AAAA;AAAA;AAAA,uBAwB+BC,eAAGC,KAAH,CAASX,aAAT,EAAwBC,MAAxB,CAxB/B;;AAAA;AAAA;AAwBgBW,gBAAAA,IAxBhB,mBAwBgBA,IAxBhB;AAAA,iDAyBeA,IAAI,CAAC,CAAD,CAzBnB;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;6EA+BA,kBAAcC,EAAd;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUC,gBAAAA,IADV;AAAA;AAAA;AAAA,uBAG6BJ,eAAGC,KAAH,CAASG,IAAT,EAAe,CAACD,EAAD,CAAf,CAH7B;;AAAA;AAAA;AAGeD,gBAAAA,IAHf,oBAGeA,IAHf;AAAA,kDAIeA,IAAI,CAAC,CAAD,CAJnB;;AAAA;AAAA;AAAA;;AAMQG,mCAAOC,IAAP;;AANR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;gFAWA,kBAAiBC,KAAjB,EAAwBC,KAAxB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUJ,gBAAAA,IADV,4CACkDG,KADlD;AAAA;AAAA;AAAA,uBAG6BP,eAAGC,KAAH,CAASG,IAAT,EAAe,CAACI,KAAD,CAAf,CAH7B;;AAAA;AAAA;AAGeN,gBAAAA,IAHf,oBAGeA,IAHf;AAAA,kDAIeA,IAAI,CAAC,CAAD,CAJnB;;AAAA;AAAA;AAAA;;AAMQG,mCAAOC,IAAP;;AANR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;oFAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUF,gBAAAA,IADV;AAAA;AAAA;AAAA,uBAG6BJ,eAAGC,KAAH,CAASG,IAAT,CAH7B;;AAAA;AAAA;AAGeF,gBAAAA,IAHf,oBAGeA,IAHf;AAAA,kDAIeA,IAJf;;AAAA;AAAA;AAAA;;AAMQG,mCAAOC,IAAP;;AANR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;eAYW,IAAIlB,OAAJ,E","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\model\\","sourcesContent":["import db from '../db';\r\nimport logger from '../services/logger';\r\n\r\nclass Product {\r\n    async create(data) {\r\n        const createProduct = `INSERT INTO products (\r\n            \"title\",\r\n            \"price\",\r\n            \"description\",\r\n            \"quantity\",\r\n            \"status\",\r\n            \"count\",\r\n            \"producedBy\",\r\n            \"image\"\r\n        )\r\n        VALUES($1,$2,$3,$4,$5,$6,$7,$8)\r\n        returning *`;\r\n        const values = [\r\n            data.title,\r\n            data.price,\r\n            data.description,\r\n            data.quantity,\r\n            data.status,\r\n            data.count,\r\n            data.producedBy,\r\n            data.image\r\n        ]\r\n        try {\r\n            const { rows } = await db.query(createProduct, values)\r\n            return rows[0]\r\n        } catch (error) {\r\n            return error\r\n        }\r\n    }\r\n\r\n    async getById(id) {\r\n        const text = `SELECT * FROM products WHERE id = $1`;\r\n        try {\r\n            const {rows} = await db.query(text, [id]);\r\n            return rows[0];\r\n        } catch (error) {\r\n            logger.info(error)\r\n            return error\r\n        }\r\n    }\r\n    \r\n    async getByField(field, value) {\r\n        const text = `SELECT * FROM products WHERE \"${field}\" = $1`;\r\n        try {\r\n            const {rows} = await db.query(text, [value]);\r\n            return rows[0];\r\n        } catch (error) {\r\n            logger.info(error)\r\n            return error\r\n        }\r\n    }\r\n\r\n    async getAllProducts() {\r\n        const text = `SELECT * FROM products`;\r\n        try {\r\n            const {rows} = await db.query(text);\r\n            return rows;\r\n        } catch (error) {\r\n            logger.info(error)\r\n            return error\r\n        }\r\n    }\r\n}\r\n\r\nexport default new Product();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6edde59f88aa8591e9d627d3eca929d5a2ca34a5","contentHash":"82f05afdbf104116d01d4792153a25a91d02b5a2ac5d54b25c28215b1b965ebb"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\productValidation.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\productValidation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":24},"end":{"line":38,"column":1}},"3":{"start":{"line":9,"column":4},"end":{"line":9,"column":59}},"4":{"start":{"line":10,"column":4},"end":{"line":10,"column":59}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":73}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":65}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":53}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":63}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":67}},"10":{"start":{"line":16,"column":4},"end":{"line":23,"column":57}},"11":{"start":{"line":17,"column":6},"end":{"line":22,"column":7}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":21}},"14":{"start":{"line":25,"column":17},"end":{"line":25,"column":39}},"15":{"start":{"line":27,"column":4},"end":{"line":34,"column":5}},"16":{"start":{"line":28,"column":23},"end":{"line":30,"column":11}},"17":{"start":{"line":29,"column":8},"end":{"line":29,"column":25}},"18":{"start":{"line":31,"column":6},"end":{"line":33,"column":9}},"19":{"start":{"line":36,"column":4},"end":{"line":36,"column":11}},"20":{"start":{"line":39,"column":15},"end":{"line":39,"column":32}},"21":{"start":{"line":40,"column":0},"end":{"line":40,"column":30}}},"fnMap":{"0":{"name":"createProductValidation","decl":{"start":{"line":8,"column":36},"end":{"line":8,"column":59}},"loc":{"start":{"line":8,"column":76},"end":{"line":37,"column":3}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":30},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":47},"end":{"line":23,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":34},"end":{"line":28,"column":35}},"loc":{"start":{"line":28,"column":51},"end":{"line":30,"column":7}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":6},"end":{"line":22,"column":7}},"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":22,"column":7}},{"start":{"line":17,"column":6},"end":{"line":22,"column":7}}],"line":17},"1":{"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":81}},"type":"binary-expr","locations":[{"start":{"line":17,"column":10},"end":{"line":17,"column":44}},{"start":{"line":17,"column":48},"end":{"line":17,"column":81}}],"line":17},"2":{"loc":{"start":{"line":27,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":34,"column":5}},{"start":{"line":27,"column":4},"end":{"line":34,"column":5}}],"line":27}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[0,0],"1":[1,0],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["productValidation.js"],"names":["productValidation","createProductValidation","req","res","next","check","notEmpty","custom","value","file","mimetype","withMessage","errors","validationErrors","firstError","map","error","msg","status","json"],"mappings":";;;;;;AAAA,IAAMA,iBAAiB,GAAG;AACxBC,EAAAA,uBAAuB,EAAE,iCAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AAC1CF,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmB,uBAAnB,EAA4CC,QAA5C;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmB,uBAAnB,EAA4CC,QAA5C;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,aAAV,EAAyB,+BAAzB,EAA0DC,QAA1D;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,UAAV,EAAsB,0BAAtB,EAAkDC,QAAlD;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,QAAV,EAAoB,gBAApB,EAAsCC,QAAtC;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EAAmB,2BAAnB,EAAgDC,QAAhD;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,YAAV,EAAwB,0BAAxB,EAAoDC,QAApD;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAU,OAAV,EACCE,MADD,CACQ,UAACC,KAAD,EAAU;AAChB,UAAIN,GAAG,CAACO,IAAJ,CAASC,QAAT,KAAsB,YAAtB,IAAsCR,GAAG,CAACO,IAAJ,CAASC,QAAT,KAAsB,WAAhE,EAA6E;AAC3E;AACA,eAAO,SAAP;AACD,OAHD,MAGO;AACL,eAAO,KAAP;AACD;AACF,KARD,EAQGC,WARH,CAQe,oCARf,EAR0C,CAiB1C;;AAEA,QAAMC,MAAM,GAAGV,GAAG,CAACW,gBAAJ,EAAf;;AACA,QAAID,MAAJ,EAAY;AACR,UAAME,UAAU,GAAGF,MAAM,CAACG,GAAP,CAAW,UAAAC,KAAK;AAAA,eAAIA,KAAK,CAACC,GAAV;AAAA,OAAhB,EAA+B,CAA/B,CAAnB;AACA,aAAOd,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,KAAK,EAAEF;AAAR,OAArB,CAAP;AACH;;AACDV,IAAAA,IAAI;AACL;AA1BuB,CAA1B;eA6BeJ,iB","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\middlewares\\validations\\","sourcesContent":["const productValidation = {\r\n  createProductValidation: (req, res, next)=> {\r\n    req.check('title', 'fill in product title').notEmpty();\r\n    req.check('price', 'fill in product price').notEmpty();\r\n    req.check('description', 'enter the product description').notEmpty();\r\n    req.check('quantity', 'fill in product quantity').notEmpty();\r\n    req.check('status', 'fill in status').notEmpty();\r\n    req.check('count', 'fill in the product count').notEmpty();\r\n    req.check('producedBy', 'fill in the manufacturer').notEmpty();\r\n    req.check('image')\r\n    .custom((value)=> {\r\n      if (req.file.mimetype === 'image/jpeg' || req.file.mimetype === 'image/jpg') {\r\n        // mimetype: 'image/jpeg',\r\n        return '{.jpeg}'\r\n      } else {\r\n        return false\r\n      }\r\n    }).withMessage('Please, only submit jpeg documents')\r\n    // req.check('image', 'upload product image').notEmpty();\r\n\r\n    const errors = req.validationErrors()\r\n    if (errors) {\r\n        const firstError = errors.map(error => error.msg)[0]\r\n        return res.status(422).json({error: firstError});\r\n    }\r\n    next();\r\n  }\r\n}\r\n\r\nexport default productValidation;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bfcd84be9268a835cb4cc378a58523a62693809c","contentHash":"2924f20c96e1374e0b287e8720e189cd4ca3982835d430c6a7c251f50d71ad89"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\storage.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\storage.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":11},"end":{"line":12,"column":26}},"5":{"start":{"line":14,"column":14},"end":{"line":23,"column":2}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":24}},"7":{"start":{"line":21,"column":4},"end":{"line":21,"column":82}},"8":{"start":{"line":25,"column":13},"end":{"line":27,"column":2}},"9":{"start":{"line":28,"column":0},"end":{"line":28,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"destination","decl":{"start":{"line":15,"column":24},"end":{"line":15,"column":35}},"loc":{"start":{"line":15,"column":51},"end":{"line":17,"column":3}},"line":15},"2":{"name":"filename","decl":{"start":{"line":18,"column":21},"end":{"line":18,"column":29}},"loc":{"start":{"line":18,"column":45},"end":{"line":22,"column":3}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["storage.js"],"names":["path","require","storage","multer","diskStorage","destination","req","file","cb","filename","fieldname","Date","now","extname","originalname","upload"],"mappings":";;;;;;;AAAA;;;;AACA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMC,OAAO,GAAGC,mBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,IAAAA,EAAE,CAAC,IAAD,EAAO,SAAP,CAAF;AACD,GAH8B;AAI/BC,EAAAA,QAAQ,EAAE,kBAAUH,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjC;AACA;AACAA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAACG,SAAL,GAAiB,GAAjB,GAAuBC,IAAI,CAACC,GAAL,EAAvB,GAAoCZ,IAAI,CAACa,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAA3C,CAAF;AACD;AAR8B,CAAnB,CAAhB;;AAWO,IAAMC,MAAM,GAAG,wBAAO;AAAEb,EAAAA,OAAO,EAAPA;AAAF,CAAP,CAAf","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\","sourcesContent":["import multer from \"multer\";\r\nconst path = require('path')\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, 'uploads')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      // const extension = file.mimetype.substr(file.mimetype.length - 3);\r\n      // cb(null, file.fieldname + '-' + Date.now() + `.${extension}`)\r\n      cb(null, file.fieldname + '-' + Date.now() + path.extname(file.originalname))\r\n    }\r\n});\r\n\r\nexport const upload = multer({ storage }) "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"237a0cf2fcbff297f83bd0a77536d9bbd85c5dd3","contentHash":"892838c662c088ef048b5d1b074d9b6a53c0fb7491b39bad7fabde3db1c011ff"},"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\tests\\products.js":{"path":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\tests\\products.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":60}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":51}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":52}},"3":{"start":{"line":9,"column":39},"end":{"line":9,"column":95}},"4":{"start":{"line":11,"column":77},"end":{"line":11,"column":175}},"5":{"start":{"line":11,"column":94},"end":{"line":11,"column":107}},"6":{"start":{"line":11,"column":121},"end":{"line":11,"column":131}},"7":{"start":{"line":11,"column":151},"end":{"line":11,"column":165}},"8":{"start":{"line":11,"column":166},"end":{"line":11,"column":173}},"9":{"start":{"line":11,"column":176},"end":{"line":11,"column":263}},"10":{"start":{"line":11,"column":193},"end":{"line":11,"column":208}},"11":{"start":{"line":11,"column":218},"end":{"line":11,"column":261}},"12":{"start":{"line":13,"column":33},"end":{"line":13,"column":387}},"13":{"start":{"line":13,"column":65},"end":{"line":13,"column":69}},"14":{"start":{"line":13,"column":78},"end":{"line":13,"column":87}},"15":{"start":{"line":13,"column":89},"end":{"line":13,"column":384}},"16":{"start":{"line":13,"column":147},"end":{"line":13,"column":167}},"17":{"start":{"line":13,"column":193},"end":{"line":13,"column":264}},"18":{"start":{"line":13,"column":290},"end":{"line":13,"column":360}},"19":{"start":{"line":13,"column":363},"end":{"line":13,"column":380}},"20":{"start":{"line":15,"column":0},"end":{"line":15,"column":43}},"21":{"start":{"line":17,"column":0},"end":{"line":17,"column":26}},"22":{"start":{"line":19,"column":0},"end":{"line":90,"column":3}},"23":{"start":{"line":20,"column":13},"end":{"line":26,"column":3}},"24":{"start":{"line":27,"column":19},"end":{"line":31,"column":3}},"25":{"start":{"line":32,"column":19},"end":{"line":35,"column":3}},"26":{"start":{"line":36,"column":2},"end":{"line":61,"column":7}},"27":{"start":{"line":38,"column":4},"end":{"line":60,"column":16}},"28":{"start":{"line":39,"column":6},"end":{"line":59,"column":7}},"29":{"start":{"line":40,"column":8},"end":{"line":58,"column":9}},"30":{"start":{"line":42,"column":12},"end":{"line":42,"column":30}},"31":{"start":{"line":43,"column":12},"end":{"line":43,"column":106}},"32":{"start":{"line":46,"column":12},"end":{"line":46,"column":32}},"33":{"start":{"line":47,"column":12},"end":{"line":47,"column":34}},"34":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"35":{"start":{"line":49,"column":12},"end":{"line":49,"column":106}},"36":{"start":{"line":52,"column":12},"end":{"line":52,"column":32}},"37":{"start":{"line":53,"column":12},"end":{"line":53,"column":40}},"38":{"start":{"line":57,"column":12},"end":{"line":57,"column":35}},"39":{"start":{"line":62,"column":2},"end":{"line":89,"column":5}},"40":{"start":{"line":63,"column":16},"end":{"line":72,"column":5}},"41":{"start":{"line":73,"column":4},"end":{"line":73,"column":23}},"42":{"start":{"line":75,"column":4},"end":{"line":88,"column":7}},"43":{"start":{"line":76,"column":6},"end":{"line":76,"column":34}},"44":{"start":{"line":77,"column":6},"end":{"line":77,"column":37}},"45":{"start":{"line":78,"column":6},"end":{"line":78,"column":50}},"46":{"start":{"line":79,"column":6},"end":{"line":79,"column":46}},"47":{"start":{"line":80,"column":6},"end":{"line":80,"column":45}},"48":{"start":{"line":81,"column":6},"end":{"line":81,"column":45}},"49":{"start":{"line":82,"column":6},"end":{"line":82,"column":51}},"50":{"start":{"line":83,"column":6},"end":{"line":83,"column":48}},"51":{"start":{"line":84,"column":6},"end":{"line":84,"column":46}},"52":{"start":{"line":85,"column":6},"end":{"line":85,"column":45}},"53":{"start":{"line":86,"column":6},"end":{"line":86,"column":45}},"54":{"start":{"line":87,"column":6},"end":{"line":87,"column":13}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":97}},"line":9},"1":{"name":"asyncGeneratorStep","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":75},"end":{"line":11,"column":265}},"line":11},"2":{"name":"_asyncToGenerator","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":26}},"loc":{"start":{"line":13,"column":31},"end":{"line":13,"column":389}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":40},"end":{"line":13,"column":41}},"loc":{"start":{"line":13,"column":52},"end":{"line":13,"column":386}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":108},"end":{"line":13,"column":109}},"loc":{"start":{"line":13,"column":135},"end":{"line":13,"column":382}},"line":13},"5":{"name":"_next","decl":{"start":{"line":13,"column":178},"end":{"line":13,"column":183}},"loc":{"start":{"line":13,"column":191},"end":{"line":13,"column":266}},"line":13},"6":{"name":"_throw","decl":{"start":{"line":13,"column":276},"end":{"line":13,"column":282}},"loc":{"start":{"line":13,"column":288},"end":{"line":13,"column":362}},"line":13},"7":{"name":"(anonymous_7)","decl":{"start":{"line":19,"column":39},"end":{"line":19,"column":40}},"loc":{"start":{"line":19,"column":51},"end":{"line":90,"column":1}},"line":19},"8":{"name":"_callee","decl":{"start":{"line":36,"column":88},"end":{"line":36,"column":95}},"loc":{"start":{"line":36,"column":98},"end":{"line":61,"column":3}},"line":36},"9":{"name":"_callee$","decl":{"start":{"line":38,"column":44},"end":{"line":38,"column":52}},"loc":{"start":{"line":38,"column":63},"end":{"line":60,"column":5}},"line":38},"10":{"name":"(anonymous_10)","decl":{"start":{"line":62,"column":43},"end":{"line":62,"column":44}},"loc":{"start":{"line":62,"column":59},"end":{"line":89,"column":3}},"line":62},"11":{"name":"(anonymous_11)","decl":{"start":{"line":75,"column":125},"end":{"line":75,"column":126}},"loc":{"start":{"line":75,"column":145},"end":{"line":88,"column":5}},"line":75}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":94}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":94}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9},"2":{"loc":{"start":{"line":11,"column":176},"end":{"line":11,"column":263}},"type":"if","locations":[{"start":{"line":11,"column":176},"end":{"line":11,"column":263}},{"start":{"line":11,"column":176},"end":{"line":11,"column":263}}],"line":11},"3":{"loc":{"start":{"line":40,"column":8},"end":{"line":58,"column":9}},"type":"switch","locations":[{"start":{"line":41,"column":10},"end":{"line":43,"column":106}},{"start":{"line":45,"column":10},"end":{"line":49,"column":106}},{"start":{"line":51,"column":10},"end":{"line":53,"column":40}},{"start":{"line":55,"column":10},"end":{"line":55,"column":17}},{"start":{"line":56,"column":10},"end":{"line":57,"column":35}}],"line":40}},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":3,"6":3,"7":0,"8":0,"9":3,"10":1,"11":2,"12":1,"13":1,"14":1,"15":1,"16":1,"17":3,"18":0,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":3,"29":3,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},"f":{"0":3,"1":3,"2":1,"3":1,"4":1,"5":3,"6":0,"7":1,"8":1,"9":3,"10":1,"11":1},"b":{"0":[1,2],"1":[3,3],"2":[1,2],"3":[1,1,1,1,1]},"inputSourceMap":{"version":3,"sources":["products.js"],"names":["chai","use","chaiHttp","should","describe","user","id","token","name","email","password","signupData","signinData","before","request","app","post","send","res","body","it","done","order","title","price","description","quantity","status","count","producedBy","image","console","log","set","end","err","have","be","a","property","eql"],"mappings":";;AAAA;;AACA;;AACA;;;;;;;;AAEAA,iBAAKC,GAAL,CAASC,oBAAT;;AACAF,iBAAKG,MAAL;;AAEAC,QAAQ,CAAC,4BAAD,EAA+B,YAAM;AACzC,MAAIC,IAAI,GAAG;AACPC,IAAAA,EAAE,EAAE,IADG;AAEPC,IAAAA,KAAK,EAAE,IAFA;AAGPC,IAAAA,IAAI,EAAE,QAHC;AAIPC,IAAAA,KAAK,EAAE,kBAJA;AAKPC,IAAAA,QAAQ,EAAE;AALH,GAAX;AAOA,MAAMC,UAAU,GAAG;AACfH,IAAAA,IAAI,EAAEH,IAAI,CAACG,IADI;AAEfC,IAAAA,KAAK,EAAEJ,IAAI,CAACI,KAFG;AAGfC,IAAAA,QAAQ,EAAEL,IAAI,CAACK;AAHA,GAAnB;AAKA,MAAME,UAAU,GAAG;AACfH,IAAAA,KAAK,EAAEJ,IAAI,CAACI,KADG;AAEfC,IAAAA,QAAQ,EAAEL,IAAI,CAACK;AAFA,GAAnB;AAIAG,EAAAA,MAAM,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACab,iBAAKc,OAAL,CAAaC,eAAb,EACZC,IADY,CACP,qBADO,EAEZC,IAFY,CAEPN,UAFO,CADb;;AAAA;AACCO,YAAAA,GADD;AAIHb,YAAAA,IAAI,CAACC,EAAL,GAAUY,GAAG,CAACC,IAAJ,CAASb,EAAnB;AAJG;AAAA,mBAMSN,iBAAKc,OAAL,CAAaC,eAAb,EACRC,IADQ,CACH,qBADG,EAERC,IAFQ,CAEHL,UAFG,CANT;;AAAA;AAMHM,YAAAA,GANG;AASHb,YAAAA,IAAI,CAACE,KAAL,GAAaW,GAAG,CAACC,IAAJ,CAASZ,KAAtB;;AATG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,GAAN;AAWAa,EAAAA,EAAE,CAAC,oCAAD,EAAuC,UAACC,IAAD,EAAS;AAC9C,QAAMC,KAAK,GAAG;AACVC,MAAAA,KAAK,EAAC,WADI;AAEVC,MAAAA,KAAK,EAAC,IAFI;AAGVC,MAAAA,WAAW,EAAC,kBAHF;AAIVC,MAAAA,QAAQ,EAAC,CAJC;AAKVC,MAAAA,MAAM,EAAC,KALG;AAMVC,MAAAA,KAAK,EAAC,CANI;AAOVC,MAAAA,UAAU,EAAC,aAPD;AAQVC,MAAAA,KAAK,EAAC;AARI,KAAd;AAUAC,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;;AAEJtB,qBAAKc,OAAL,CAAaC,eAAb,EACGC,IADH,CACQ,uBADR,EAEGiB,GAFH,CAEO,eAFP,EAEwB5B,IAAI,CAACE,KAF7B,EAGGU,IAHH,CAGQK,KAHR,EAIGY,GAJH,CAIO,UAACC,GAAD,EAAKjB,GAAL,EAAY;AACfA,MAAAA,GAAG,CAACf,MAAJ,CAAWiC,IAAX,CAAgBT,MAAhB,CAAuB,GAAvB;AACAT,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBkC,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACApB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,YAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAASU,UAAT,CAAoB1B,MAApB,CAA2BqC,GAA3B,CAA+BnC,IAAI,CAACC,EAApC;AACAY,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,OAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,OAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,aAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,UAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,QAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,OAA9B;AACArB,MAAAA,GAAG,CAACC,IAAJ,CAAShB,MAAT,CAAgBiC,IAAhB,CAAqBG,QAArB,CAA8B,OAA9B;AACAlB,MAAAA,IAAI;AACL,KAjBH;AAkBC,GA/BC,CAAF;AAgCH,CA5DO,CAAR","sourceRoot":"E:\\backup\\MATTHEW\\MA LIBRARY\\portfolio\\e-shop\\e-shop-server\\src\\tests\\","sourcesContent":["import chaiHttp from 'chai-http';\r\nimport chai from 'chai';\r\nimport app from '../app'\r\n\r\nchai.use(chaiHttp)\r\nchai.should()\r\n\r\ndescribe('POST /api/v1/createProduct', () => {\r\n    let user = {\r\n        id: null,\r\n        token: null,\r\n        name: 'ramsey',\r\n        email: 'ramsey@email.com',\r\n        password: 'ramseypassword1'\r\n    }\r\n    const signupData = {\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password,\r\n    }\r\n    const signinData = {\r\n        email: user.email,\r\n        password: user.password,\r\n    }\r\n    before(async()=> {\r\n        let res = await chai.request(app)\r\n           .post('/api/v1/auth/signup')\r\n           .send(signupData)\r\n        user.id = res.body.id\r\n\r\n        res = await chai.request(app)\r\n           .post('/api/v1/auth/signin')\r\n           .send(signinData)\r\n        user.token = res.body.token\r\n    })\r\n    it('should provide a statusCode of 201', (done)=> {\r\n        const order = {\r\n            title:'vegetable',\r\n            price:'45',\r\n            description:'description info',\r\n            quantity:3,\r\n            status:'add',\r\n            count:5,\r\n            producedBy:'lex company',\r\n            image:'image.jpg',\r\n        }\r\n        console.log(order)\r\n\r\n    chai.request(app)\r\n      .post('/api/v1/createProduct')\r\n      .set('authorization', user.token)\r\n      .send(order)\r\n      .end((err,res)=> {\r\n        res.should.have.status(201);\r\n        res.body.should.be.a('object');\r\n        res.body.should.have.property('producedBy')\r\n        res.body.producedBy.should.eql(user.id)\r\n        res.body.should.have.property('title')\r\n        res.body.should.have.property('price')\r\n        res.body.should.have.property('description')\r\n        res.body.should.have.property('quantity')\r\n        res.body.should.have.property('status')\r\n        res.body.should.have.property('count')\r\n        res.body.should.have.property('image')\r\n        done();\r\n      })\r\n    })\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"eb19b0acfcf4105b7bf92d2642ec20669398c92c","contentHash":"8bd5325ece9ab156b83e28c9ca9b7be5c8df9f706e3eb82711bce168786084fa"}}